(function(){var e={5256:function(e,t,l){"use strict";l.d(t,{A:function(){return p}});var a=l(6768),o=l(4232);const n={class:"color-selector"};function i(e,t,l,i,s,r){const d=(0,a.g2)("v-list-item"),u=(0,a.g2)("v-select"),c=(0,a.g2)("v-btn"),p=(0,a.g2)("v-card-title"),m=(0,a.g2)("v-card-text"),g=(0,a.g2)("v-spacer"),h=(0,a.g2)("v-card-actions"),f=(0,a.g2)("v-card"),b=(0,a.g2)("v-dialog");return(0,a.uX)(),(0,a.CE)("div",n,[t[9]||(t[9]=(0,a.Lk)("h2",null,"Rundown Item Colors",-1)),(0,a.Lk)("table",null,[t[2]||(t[2]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Type"),(0,a.Lk)("th",null,"Base Color"),(0,a.Lk)("th",null,"Variant"),(0,a.Lk)("th",null,"Preview")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.rundownTypes,t=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[(0,a.Lk)("td",null,(0,o.v_)(t),1),(0,a.Lk)("td",null,[(0,a.bF)(u,{modelValue:s.baseColor[t],"onUpdate:modelValue":e=>s.baseColor[t]=e,items:r.baseColorOptions,label:"Base",dense:"",outlined:"","hide-details":"",style:{width:"110px"},onChange:e=>r.onBaseChange(t),"item-title":"title","item-value":"value"},{item:(0,a.k6)(({item:t,props:l})=>[t&&t.value?((0,a.uX)(),(0,a.Wv)(d,(0,a.v6)({key:0,ref_for:!0},l),{default:(0,a.k6)(()=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(t.value),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(t.title),1)]),_:2},1040)):(0,a.Q3)("",!0)]),selection:(0,a.k6)(({item:t})=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(t.value),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(t.title),1)]),_:2},1032,["modelValue","onUpdate:modelValue","items","onChange"])]),(0,a.Lk)("td",null,[(0,a.bF)(u,{modelValue:s.variant[t],"onUpdate:modelValue":e=>s.variant[t]=e,items:r.variantOptions(s.baseColor[t]),label:"Variant",dense:"",outlined:"","hide-details":"",style:{width:"110px"},disabled:!s.baseColor[t]},{item:(0,a.k6)(({item:l,props:n})=>[l&&l.value?((0,a.uX)(),(0,a.Wv)(d,(0,a.v6)({key:0,ref_for:!0},n),{default:(0,a.k6)(()=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(s.baseColor[t]+(l.value?" "+l.value:"")),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(l.title),1)]),_:2},1040)):(0,a.Q3)("",!0)]),selection:(0,a.k6)(({item:l})=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(s.baseColor[t]+(l.value?" "+l.value:"")),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(l.title),1)]),_:2},1032,["modelValue","onUpdate:modelValue","items","disabled"])]),(0,a.Lk)("td",null,[(0,a.Lk)("div",{class:"preview-box",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(r.getFullColor(t)),e.$vuetify),color:r.getTextColor(r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(r.getFullColor(t)),e.$vuetify)),width:"60px",height:"28px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:500})},(0,o.v_)(t),5)])]))),128))])]),t[10]||(t[10]=(0,a.Lk)("h2",{class:"mt-6"},"Interface Element Colors",-1)),(0,a.Lk)("table",null,[t[3]||(t[3]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Type"),(0,a.Lk)("th",null,"Base Color"),(0,a.Lk)("th",null,"Variant"),(0,a.Lk)("th",null,"Preview")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.interfaceTypes,t=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[(0,a.Lk)("td",null,(0,o.v_)(t),1),(0,a.Lk)("td",null,[(0,a.bF)(u,{modelValue:s.baseColor[t+"-interface"],"onUpdate:modelValue":e=>s.baseColor[t+"-interface"]=e,items:r.baseColorOptions,label:"Base",dense:"",outlined:"","hide-details":"",style:{width:"110px"},onChange:e=>r.onBaseChange(t+"-interface"),"item-title":"title","item-value":"value"},{item:(0,a.k6)(({item:t,props:l})=>[t&&t.value?((0,a.uX)(),(0,a.Wv)(d,(0,a.v6)({key:0,ref_for:!0},l),{default:(0,a.k6)(()=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(t.value),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(t.title),1)]),_:2},1040)):(0,a.Q3)("",!0)]),selection:(0,a.k6)(({item:t})=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(t.value),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(t.title),1)]),_:2},1032,["modelValue","onUpdate:modelValue","items","onChange"])]),(0,a.Lk)("td",null,[(0,a.bF)(u,{modelValue:s.variant[t+"-interface"],"onUpdate:modelValue":e=>s.variant[t+"-interface"]=e,items:r.variantOptions(s.baseColor[t+"-interface"]),label:"Variant",dense:"",outlined:"","hide-details":"",style:{width:"110px"},disabled:!s.baseColor[t+"-interface"]},{item:(0,a.k6)(({item:l,props:n})=>[l&&l.value?((0,a.uX)(),(0,a.Wv)(d,(0,a.v6)({key:0,ref_for:!0},n),{default:(0,a.k6)(()=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(s.baseColor[t+"-interface"]+(l.value?" "+l.value:"")),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(l.title),1)]),_:2},1040)):(0,a.Q3)("",!0)]),selection:(0,a.k6)(({item:l})=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(s.baseColor[t+"-interface"]+(l.value?" "+l.value:"")),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(l.title),1)]),_:2},1032,["modelValue","onUpdate:modelValue","items","disabled"])]),(0,a.Lk)("td",null,[(0,a.Lk)("div",{class:"preview-box",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor((s.baseColor[t+"-interface"]||"")+(s.variant[t+"-interface"]?" "+s.variant[t+"-interface"]:""),e.$vuetify),color:r.getTextColor(r.resolveVuetifyColor((s.baseColor[t+"-interface"]||"")+(s.variant[t+"-interface"]?" "+s.variant[t+"-interface"]:""),e.$vuetify))})},(0,o.v_)(t),5)])]))),128))])]),t[11]||(t[11]=(0,a.Lk)("h2",{class:"mt-6"},"Script Status Colors",-1)),(0,a.Lk)("table",null,[t[4]||(t[4]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Status"),(0,a.Lk)("th",null,"Base Color"),(0,a.Lk)("th",null,"Variant"),(0,a.Lk)("th",null,"Preview")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.scriptStatusTypes,t=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[(0,a.Lk)("td",null,(0,o.v_)(t),1),(0,a.Lk)("td",null,[(0,a.bF)(u,{modelValue:s.baseColor[t+"-script"],"onUpdate:modelValue":e=>s.baseColor[t+"-script"]=e,items:r.baseColorOptions,label:"Base",dense:"",outlined:"","hide-details":"",style:{width:"110px"},onChange:e=>r.onBaseChange(t+"-script"),"item-title":"title","item-value":"value"},{item:(0,a.k6)(({item:t,props:l})=>[t&&t.value?((0,a.uX)(),(0,a.Wv)(d,(0,a.v6)({key:0,ref_for:!0},l),{default:(0,a.k6)(()=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(t.value),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(t.title),1)]),_:2},1040)):(0,a.Q3)("",!0)]),selection:(0,a.k6)(({item:t})=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(t.value),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(t.title),1)]),_:2},1032,["modelValue","onUpdate:modelValue","items","onChange"])]),(0,a.Lk)("td",null,[(0,a.bF)(u,{modelValue:s.variant[t+"-script"],"onUpdate:modelValue":e=>s.variant[t+"-script"]=e,items:r.variantOptions(s.baseColor[t+"-script"]),label:"Variant",dense:"",outlined:"","hide-details":"",style:{width:"110px"},disabled:!s.baseColor[t+"-script"]},{item:(0,a.k6)(({item:l,props:n})=>[l&&l.value?((0,a.uX)(),(0,a.Wv)(d,(0,a.v6)({key:0,ref_for:!0},n),{default:(0,a.k6)(()=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(s.baseColor[t+"-script"]+(l.value?" "+l.value:"")),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(l.title),1)]),_:2},1040)):(0,a.Q3)("",!0)]),selection:(0,a.k6)(({item:l})=>[(0,a.Lk)("span",{class:"color-swatch",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor(r.vuetifyColorNameToThemeKey(s.baseColor[t+"-script"]+(l.value?" "+l.value:"")),e.$vuetify),width:"24px",height:"24px",display:"inline-block",borderRadius:"2px",marginRight:"8px"})},null,4),(0,a.Lk)("span",null,(0,o.v_)(l.title),1)]),_:2},1032,["modelValue","onUpdate:modelValue","items","disabled"])]),(0,a.Lk)("td",null,[(0,a.Lk)("div",{class:"preview-box",style:(0,o.Tr)({backgroundColor:r.resolveVuetifyColor((s.baseColor[t+"-script"]||"")+(s.variant[t+"-script"]?" "+s.variant[t+"-script"]:""),e.$vuetify),color:r.getTextColor(r.resolveVuetifyColor((s.baseColor[t+"-script"]||"")+(s.variant[t+"-script"]?" "+s.variant[t+"-script"]:""),e.$vuetify))})},(0,o.v_)(t),5)])]))),128))])]),(0,a.bF)(c,{color:"primary",class:"mt-4",onClick:r.saveColors,loading:s.isSaving},{default:(0,a.k6)(()=>t[5]||(t[5]=[(0,a.eW)(" Save Color Configuration ")])),_:1,__:[5]},8,["onClick","loading"]),(0,a.bF)(b,{modelValue:s.showConfirmation,"onUpdate:modelValue":t[1]||(t[1]=e=>s.showConfirmation=e),width:"300"},{default:(0,a.k6)(()=>[(0,a.bF)(f,null,{default:(0,a.k6)(()=>[(0,a.bF)(p,{class:"text-h6"},{default:(0,a.k6)(()=>t[6]||(t[6]=[(0,a.eW)(" Colors Saved ")])),_:1,__:[6]}),(0,a.bF)(m,null,{default:(0,a.k6)(()=>t[7]||(t[7]=[(0,a.eW)(" Color configuration has been updated successfully. ")])),_:1,__:[7]}),(0,a.bF)(h,null,{default:(0,a.k6)(()=>[(0,a.bF)(g),(0,a.bF)(c,{color:"primary",variant:"text",onClick:t[0]||(t[0]=e=>s.showConfirmation=!1)},{default:(0,a.k6)(()=>t[8]||(t[8]=[(0,a.eW)(" Close ")])),_:1,__:[8]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}l(8111),l(1701);var s=l(9478),r=l(7967),d={data(){return{rundownTypes:["Advert","CTA","Promo","Segment","Trans"],interfaceTypes:["Selection","Hover","Highlight","Dropline","DragLight"],scriptStatusTypes:["Draft","Approved","Production","Completed"],typeColors:{},showConfirmation:!1,isSaving:!1,baseColor:{},variant:{}}},computed:{baseColorOptions(){return Array.isArray(s.baseColors)?s.baseColors.map(e=>({title:e,value:e})):(console.warn("[ColorSelector] baseColors is not an array:",s.baseColors),[])},variantOptions(){return e=>(Array.isArray(s.colorVariants[e])?s.colorVariants[e]:[]).map(e=>({title:e,value:e}))}},methods:{updateColor(e,t){const l=t||this.getFullColor(e);l&&(0,r.Jv)(e.toLowerCase(),l)},getFullColor(e){const t=this.baseColor[e],l=this.variant[e];return t&&l?`${t} ${l}`:t||""},async saveColors(){this.isSaving=!0;try{console.log("Colors already saved in map"),this.showConfirmation=!0}finally{this.isSaving=!1}},onBaseChange(e){this.variant[e]="",this.updateColor(e)},variantsForType(e){const t=this.baseColor[e];return t&&s.colorVariants[t]||[]},swatchColor(e){return(0,r.GF)(this.getFullColor(e),this.$vuetify)||"#eee"},saveTypeColor(e){this.updateColor(e)},getTextColor(e){const t=(0,r.FH)(e),l=.299*t.r+.587*t.g+.114*t.b;return l>186?"black":"white"},resolveVuetifyColor(e,t){try{return this.$options.methods._resolveVuetifyColor?this.$options.methods._resolveVuetifyColor(e,t):l(7967).GF(e,t)}catch{return"#E0E0E0"}},vuetifyColorNameToThemeKey(e){if(!e)return"";if(/^[a-z-]+$/.test(e))return e+"-base";const t=e.match(/^([a-z-]+) (lighten|darken)-(\d)$/);if(t){const[,e,l,a]=t;if("lighten"===l){if("5"===a||"4"===a||"3"===a||"2"===a||"1"===a)return e+"-light"}else if("darken"===l)return e+"-dark"}return/accent/.test(e)?e.replace(/ (accent-\d)/,"-accent"):e.replace(/ /g,"-")}},watch:{typeColors:{handler(e){console.log("[DEBUG] ColorSelector typeColors updated:",e)},deep:!0}}},u=l(1241);const c=(0,u.A)(d,[["render",i],["__scopeId","data-v-10911644"]]);var p=c},7967:function(e,t,l){"use strict";l.d(t,{FH:function(){return i},GF:function(){return r},IO:function(){return a},Jv:function(){return n}});const a={segment:"light-blue",advert:"cyan",promo:"cyan lighten-4",cta:"cyan lighten-3",trans:"yellow-accent",unknown:"grey-light",selection:"yellow accent-3",hover:"yellow lighten-4",draglight:"cyan-light",highlight:"yellow-light",dropline:"green-accent",draft:"grey darken-2",approved:"green-accent",production:"blue-accent",completed:"yellow-accent"};let o=a;const n=(e,t)=>{try{console.log("[DEBUG] Updating color:",{type:e,newColor:t});const l={...o};return l[e.toLowerCase()]=t,o=l,!0}catch(l){return console.error("[ERROR] Failed to update color:",l),!1}},i=e=>{if(!e)return console.warn("[DEBUG] getColorValue: type is falsy, returning grey-light"),"grey-light";const t=e.toLowerCase(),l=o[t]||o[e]||a[t]||a[e]||"primary";return console.log("[DEBUG] getColorValue:",{type:t,color:l}),l},s={red:{base:"#F44336","lighten-5":"#FFEBEE","lighten-4":"#FFCDD2","lighten-3":"#EF9A9A","lighten-2":"#E57373","lighten-1":"#EF5350","darken-1":"#E53935","darken-2":"#D32F2F","darken-3":"#C62828","darken-4":"#B71C1C"},pink:{base:"#E91E63","lighten-5":"#FCE4EC","lighten-4":"#F8BBD9","lighten-3":"#F48FB1","lighten-2":"#F06292","lighten-1":"#EC407A","darken-1":"#D81B60","darken-2":"#C2185B","darken-3":"#AD1457","darken-4":"#880E4F"},purple:{base:"#9C27B0","lighten-5":"#F3E5F5","lighten-4":"#E1BEE7","lighten-3":"#CE93D8","lighten-2":"#BA68C8","lighten-1":"#AB47BC","darken-1":"#8E24AA","darken-2":"#7B1FA2","darken-3":"#6A1B9A","darken-4":"#4A148C"},"deep-purple":{base:"#673AB7","lighten-5":"#EDE7F6","lighten-4":"#D1C4E9","lighten-3":"#B39DDB","lighten-2":"#9575CD","lighten-1":"#7E57C2","darken-1":"#5E35B1","darken-2":"#512DA8","darken-3":"#4527A0","darken-4":"#311B92"},indigo:{base:"#3F51B5","lighten-5":"#E8EAF6","lighten-4":"#C5CAE9","lighten-3":"#9FA8DA","lighten-2":"#7986CB","lighten-1":"#5C6BC0","darken-1":"#3949AB","darken-2":"#303F9F","darken-3":"#283593","darken-4":"#1A237E"},blue:{base:"#2196F3","lighten-5":"#E3F2FD","lighten-4":"#BBDEFB","lighten-3":"#90CAF9","lighten-2":"#64B5F6","lighten-1":"#42A5F5","darken-1":"#1E88E5","darken-2":"#1976D2","darken-3":"#1565C0","darken-4":"#0D47A1"},"light-blue":{base:"#03A9F4","lighten-5":"#E1F5FE","lighten-4":"#B3E5FC","lighten-3":"#81D4FA","lighten-2":"#4FC3F7","lighten-1":"#29B6F6","darken-1":"#039BE5","darken-2":"#0288D1","darken-3":"#0277BD","darken-4":"#01579B"},cyan:{base:"#00BCD4","lighten-5":"#E0F6FF","lighten-4":"#B2EBF2","lighten-3":"#4DD0E1","lighten-2":"#26C6DA","lighten-1":"#00ACC1","darken-1":"#0097A7","darken-2":"#00838F","darken-3":"#006064","darken-4":"#004D40"},teal:{base:"#009688","lighten-5":"#E0F2F1","lighten-4":"#B2DFDB","lighten-3":"#80CBC4","lighten-2":"#4DB6AC","lighten-1":"#26A69A","darken-1":"#00897B","darken-2":"#00796B","darken-3":"#00695C","darken-4":"#004D40"},green:{base:"#4CAF50","lighten-5":"#E8F5E8","lighten-4":"#C8E6C9","lighten-3":"#A5D6A7","lighten-2":"#81C784","lighten-1":"#66BB6A","darken-1":"#43A047","darken-2":"#388E3C","darken-3":"#2E7D32","darken-4":"#1B5E20"},"light-green":{base:"#8BC34A","lighten-5":"#F1F8E9","lighten-4":"#DCEDC8","lighten-3":"#C5E1A5","lighten-2":"#AED581","lighten-1":"#9CCC65","darken-1":"#7CB342","darken-2":"#689F38","darken-3":"#558B2F","darken-4":"#33691E"},lime:{base:"#CDDC39","lighten-5":"#F9FBE7","lighten-4":"#F0F4C3","lighten-3":"#E6EE9C","lighten-2":"#DCE775","lighten-1":"#D4E157","darken-1":"#C0CA33","darken-2":"#AFB42B","darken-3":"#9E9D24","darken-4":"#827717"},yellow:{base:"#FFEB3B","lighten-5":"#FFFDE7","lighten-4":"#FFF9C4","lighten-3":"#FFF59D","lighten-2":"#FFF176","lighten-1":"#FFEE58","darken-1":"#FDD835","darken-2":"#FBC02D","darken-3":"#F9A825","darken-4":"#F57F17","accent-1":"#FFFF8D","accent-2":"#FFFF00","accent-3":"#FFEA00","accent-4":"#FFD600"},amber:{base:"#FFC107","lighten-5":"#FFF8E1","lighten-4":"#FFECB3","lighten-3":"#FFE082","lighten-2":"#FFD54F","lighten-1":"#FFCA28","darken-1":"#FFB300","darken-2":"#FFA000","darken-3":"#FF8F00","darken-4":"#FF6F00"},orange:{base:"#FF9800","lighten-5":"#FFF3E0","lighten-4":"#FFE0B2","lighten-3":"#FFCC80","lighten-2":"#FFB74D","lighten-1":"#FFA726","darken-1":"#FB8C00","darken-2":"#F57C00","darken-3":"#EF6C00","darken-4":"#E65100"},"deep-orange":{base:"#FF5722","lighten-5":"#FBE9E7","lighten-4":"#FFCCBC","lighten-3":"#FFAB91","lighten-2":"#FF8A65","lighten-1":"#FF7043","darken-1":"#F4511E","darken-2":"#E64A19","darken-3":"#D84315","darken-4":"#BF360C"},brown:{base:"#795548","lighten-5":"#EFEBE9","lighten-4":"#D7CCC8","lighten-3":"#BCAAA4","lighten-2":"#A1887F","lighten-1":"#8D6E63","darken-1":"#6D4C41","darken-2":"#5D4037","darken-3":"#4E342E","darken-4":"#3E2723"},"blue-grey":{base:"#607D8B","lighten-5":"#ECEFF1","lighten-4":"#CFD8DC","lighten-3":"#B0BEC5","lighten-2":"#90A4AE","lighten-1":"#78909C","darken-1":"#546E7A","darken-2":"#455A64","darken-3":"#37474F","darken-4":"#263238"},grey:{base:"#9E9E9E","lighten-5":"#FAFAFA","lighten-4":"#F5F5F5","lighten-3":"#EEEEEE","lighten-2":"#E0E0E0","lighten-1":"#BDBDBD","darken-1":"#757575","darken-2":"#424242","darken-3":"#212121","darken-4":"#000000"},shades:{black:"#000000",white:"#FFFFFF",transparent:"transparent"}},r=(e,t)=>{if(!e)return null;if(t&&t.theme){const l=t.theme.themes[t.theme.dark?"dark":"light"];if(l&&l[e])return l[e]}const l=e.trim().split(/\s+/);let a=l[0],o=l.length>1?l.slice(1).join("-"):"base";if(a.endsWith("-accent")&&(a=a.replace("-accent",""),o="base"),a.endsWith("-light")&&(a=a.replace("-light",""),o="lighten-1"),s[a]&&s[a][o])return s[a][o];const n={primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"};return n[e]?n[e]:(console.warn(`[resolveVuetifyColor] Could not resolve color: '${e}'`),null)}},8409:function(e,t,l){"use strict";var a=l(5130),o=l(6768),n=l(4232);const i={key:0,class:"d-flex align-center"},s={class:"me-4 d-none d-sm-flex"},r={class:"text-body-2 font-weight-medium ml-1"};function d(e,t,l,a,d,u){const c=(0,o.g2)("v-app-bar-nav-icon"),p=(0,o.g2)("v-app-bar-title"),m=(0,o.g2)("v-spacer"),g=(0,o.g2)("v-img"),h=(0,o.g2)("v-icon"),f=(0,o.g2)("v-avatar"),b=(0,o.g2)("v-btn"),v=(0,o.g2)("v-list-item"),k=(0,o.g2)("v-list"),F=(0,o.g2)("v-menu"),_=(0,o.g2)("v-app-bar"),w=(0,o.g2)("router-view"),y=(0,o.g2)("v-list-item-title"),C=(0,o.g2)("v-navigation-drawer"),E=(0,o.g2)("v-container"),I=(0,o.g2)("v-main"),x=(0,o.g2)("LoginModal"),D=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(D,null,{default:(0,o.k6)(()=>[(0,o.bF)(_,{color:"surface",elevation:"1"},{default:(0,o.k6)(()=>[(0,o.bF)(c,{onClick:t[0]||(t[0]=t=>e.drawer=!e.drawer)}),(0,o.bF)(p,{class:"text-primary font-weight-bold"},{default:(0,o.k6)(()=>t[4]||(t[4]=[(0,o.eW)(" Show Builder ")])),_:1,__:[4]}),(0,o.bF)(m),e.isAuthenticated?((0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",s,[t[5]||(t[5]=(0,o.Lk)("span",{class:"text-body-2 text-grey-darken-1"},"Welcome, ",-1)),(0,o.Lk)("span",r,(0,n.v_)(e.currentUser.username),1)]),(0,o.bF)(F,null,{activator:(0,o.k6)(({props:l})=>[(0,o.bF)(b,(0,o.v6)({icon:""},l),{default:(0,o.k6)(()=>[(0,o.bF)(f,{size:"32"},{default:(0,o.k6)(()=>[e.currentUser.profile_picture?((0,o.uX)(),(0,o.Wv)(g,{key:0,src:e.currentUser.profile_picture,alt:e.currentUser.username},null,8,["src","alt"])):((0,o.uX)(),(0,o.Wv)(h,{key:1},{default:(0,o.k6)(()=>t[6]||(t[6]=[(0,o.eW)("mdi-account-circle")])),_:1,__:[6]}))]),_:1})]),_:2},1040)]),default:(0,o.k6)(()=>[(0,o.bF)(k,null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.userMenuItems,(e,t)=>((0,o.uX)(),(0,o.Wv)(v,{key:t,"prepend-icon":e.icon,title:e.title,onClick:t=>u.handleUserMenuItem(e)},null,8,["prepend-icon","title","onClick"]))),128))]),_:1})]),_:1})])):((0,o.uX)(),(0,o.Wv)(b,{key:1,color:"primary",variant:"outlined","prepend-icon":"mdi-login",onClick:t[1]||(t[1]=t=>e.showLoginModal=!0)},{default:(0,o.k6)(()=>t[7]||(t[7]=[(0,o.eW)(" Login ")])),_:1,__:[7]}))]),_:1}),(0,o.bF)(w,null,{default:(0,o.k6)(({Component:t})=>["ContentEditor"===e.$route.name?((0,o.uX)(),(0,o.Wv)((0,o.$y)(t),{key:0})):(0,o.Q3)("",!0)]),_:1}),(0,o.bF)(C,{modelValue:e.drawer,"onUpdate:modelValue":t[2]||(t[2]=t=>e.drawer=t),temporary:""},{default:(0,o.k6)(()=>[(0,o.bF)(k,{density:"compact",nav:""},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.navItems,(e,t)=>((0,o.uX)(),(0,o.Wv)(v,{key:t,value:e,to:e.to,"prepend-icon":e.icon},{default:(0,o.k6)(()=>[(0,o.bF)(y,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.title),1)]),_:2},1024)]),_:2},1032,["value","to","prepend-icon"]))),128))]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(I,null,{default:(0,o.k6)(()=>[(0,o.bF)(E,{fluid:"",class:"pa-0"},{default:(0,o.k6)(()=>["ContentEditor"!==e.$route.name?((0,o.uX)(),(0,o.Wv)(w,{key:0})):(0,o.Q3)("",!0)]),_:1})]),_:1}),(0,o.bF)(x,{modelValue:e.showLoginModal,"onUpdate:modelValue":t[3]||(t[3]=t=>e.showLoginModal=t),onLoginSuccess:u.handleLoginSuccess},null,8,["modelValue","onLoginSuccess"])]),_:1})}l(4114);function u(e,t,l,i,s,r){const d=(0,o.g2)("v-icon"),u=(0,o.g2)("v-card-title"),c=(0,o.g2)("v-text-field"),p=(0,o.g2)("v-alert"),m=(0,o.g2)("v-form"),g=(0,o.g2)("v-card-text"),h=(0,o.g2)("v-spacer"),f=(0,o.g2)("v-btn"),b=(0,o.g2)("v-card-actions"),v=(0,o.g2)("v-card"),k=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(k,{modelValue:r.isVisible,"onUpdate:modelValue":t[5]||(t[5]=e=>r.isVisible=e),"max-width":"400",persistent:""},{default:(0,o.k6)(()=>[(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(u,{class:"text-h5 text-center pa-6"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"large",class:"mb-2",color:"primary"},{default:(0,o.k6)(()=>t[6]||(t[6]=[(0,o.eW)("mdi-account-key")])),_:1,__:[6]}),t[7]||(t[7]=(0,o.Lk)("div",null,"Login to Show Builder",-1))]),_:1,__:[7]}),(0,o.bF)(g,{class:"px-6 pb-0"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{ref:"loginForm",modelValue:s.formValid,"onUpdate:modelValue":t[4]||(t[4]=e=>s.formValid=e),onSubmit:(0,a.D$)(r.handleLogin,["prevent"])},{default:(0,o.k6)(()=>[(0,o.bF)(c,{modelValue:s.credentials.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.credentials.username=e),label:"Username","prepend-inner-icon":"mdi-account",variant:"outlined",rules:s.usernameRules,"error-messages":s.fieldErrors.username,required:"",autofocus:"",class:"mb-3",onKeyup:(0,a.jR)(r.handleLogin,["enter"])},null,8,["modelValue","rules","error-messages","onKeyup"]),(0,o.bF)(c,{modelValue:s.credentials.password,"onUpdate:modelValue":t[1]||(t[1]=e=>s.credentials.password=e),label:"Password","prepend-inner-icon":"mdi-lock",type:s.showPassword?"text":"password","append-inner-icon":s.showPassword?"mdi-eye":"mdi-eye-off","onClick:appendInner":t[2]||(t[2]=e=>s.showPassword=!s.showPassword),variant:"outlined",rules:s.passwordRules,"error-messages":s.fieldErrors.password,required:"",class:"mb-4",onKeyup:(0,a.jR)(r.handleLogin,["enter"])},null,8,["modelValue","type","append-inner-icon","rules","error-messages","onKeyup"]),s.errorMessage?((0,o.uX)(),(0,o.Wv)(p,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":t[3]||(t[3]=e=>s.errorMessage="")},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(s.errorMessage),1)]),_:1})):(0,o.Q3)("",!0)]),_:1},8,["modelValue","onSubmit"])]),_:1}),(0,o.bF)(b,{class:"px-6 pb-6"},{default:(0,o.k6)(()=>[(0,o.bF)(h),(0,o.bF)(f,{color:"primary",size:"large",loading:s.isLoading,disabled:!s.formValid,onClick:r.handleLogin,block:""},{default:(0,o.k6)(()=>[(0,o.bF)(d,{start:""},{default:(0,o.k6)(()=>t[8]||(t[8]=[(0,o.eW)("mdi-login")])),_:1,__:[8]}),t[9]||(t[9]=(0,o.eW)(" Login "))]),_:1,__:[9]},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var c=l(4373),p={name:"LoginModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","login-success"],data(){return{formValid:!1,showPassword:!1,isLoading:!1,errorMessage:"",credentials:{username:"",password:""},fieldErrors:{username:[],password:[]},usernameRules:[e=>!!e||"Username is required",e=>e&&e.length>=3||"Username must be at least 3 characters"],passwordRules:[e=>!!e||"Password is required",e=>e&&e.length>=4||"Password must be at least 4 characters"]}},computed:{isVisible:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{async handleLogin(){if(this.formValid){this.isLoading=!0,this.errorMessage="",this.fieldErrors={username:[],password:[]};try{const e=new FormData;e.append("username",this.credentials.username),e.append("password",this.credentials.password);const t=await c.A.post("http://192.168.51.210:8888/auth/login",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(t.data.access_token){const e=Date.now()+1728e5;localStorage.setItem("auth-token",t.data.access_token),localStorage.setItem("auth-token-expiry",e.toString()),localStorage.setItem("user-data",JSON.stringify(t.data.user)),c.A.defaults.headers.common["Authorization"]=`Bearer ${t.data.access_token}`,this.$emit("login-success",{token:t.data.access_token,user:t.data.user}),this.isVisible=!1,this.resetForm()}}catch(e){console.error("Login error:",e),401===e.response?.status?this.errorMessage="Invalid username or password":422===e.response?.status?this.errorMessage="Please check your input":this.errorMessage="Login failed. Please try again."}finally{this.isLoading=!1}}},resetForm(){this.credentials={username:"",password:""},this.errorMessage="",this.fieldErrors={username:[],password:[]},this.showPassword=!1,this.$refs.loginForm&&this.$refs.loginForm.reset()}},watch:{isVisible(e){e&&this.resetForm()}}},m=l(1241);const g=(0,m.A)(p,[["render",u],["__scopeId","data-v-65c5df34"]]);var h=g,f={name:"App",components:{LoginModal:h},data:()=>({drawer:!1,showLoginModal:!1,isAuthenticated:!1,currentUser:{},navItems:[{title:"Dashboard",icon:"mdi-view-dashboard",to:"/dashboard"},{title:"Rundown Editor",icon:"mdi-playlist-edit",to:"/rundown"},{title:"Content Editor",icon:"mdi-script-text-outline",to:"/content-editor"},{title:"Asset Manager",icon:"mdi-folder",to:"/assets"},{title:"Templates",icon:"mdi-file-document",to:"/templates"},{title:"Settings",icon:"mdi-cog",to:"/settings"}],userMenuItems:[{title:"Profile",icon:"mdi-account",action:"profile"},{title:"Settings",icon:"mdi-cog",action:"settings"},{title:"Logout",icon:"mdi-logout",action:"logout"}]}),mounted(){this.checkAuthStatus(),this.setupAxiosInterceptors()},methods:{checkAuthStatus(){const e=localStorage.getItem("auth-token"),t=localStorage.getItem("auth-token-expiry"),l=localStorage.getItem("user-data");if(e&&t&&l){const a=Date.now(),o=parseInt(t);a<o?(this.isAuthenticated=!0,this.currentUser=JSON.parse(l),c.A.defaults.headers.common["Authorization"]=`Bearer ${e}`):this.clearAuthData()}},setupAxiosInterceptors(){c.A.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(this.clearAuthData(),this.showLoginModal=!0),Promise.reject(e)))},handleLoginSuccess(e){this.isAuthenticated=!0,this.currentUser=e.user,console.log("Login successful:",e.user)},handleUserMenuItem(e){switch(e.action){case"profile":this.$router.push("/profile");break;case"settings":this.$router.push("/settings");break;case"logout":this.handleLogout();break;default:console.log(`User menu action: ${e.action}`)}},handleLogout(){this.clearAuthData(),this.$router.push("/dashboard")},clearAuthData(){this.isAuthenticated=!1,this.currentUser={},localStorage.removeItem("auth-token"),localStorage.removeItem("auth-token-expiry"),localStorage.removeItem("user-data"),delete c.A.defaults.headers.common["Authorization"]}}};const b=(0,m.A)(f,[["render",d]]);var v=b,k=(l(5524),l(5753)),F=l(5829),_=l(3425);const w=(0,k.$N)({components:F,directives:_,theme:{themes:{light:{colors:{"red-base":"#F44336","red-accent":"#FF5252","red-dark":"#D32F2F","red-light":"#FFCDD2","deep-purple-base":"#673AB7","deep-purple-accent":"#7C4DFF","deep-purple-dark":"#512DA8","deep-purple-light":"#D1C4E9","blue-base":"#2196F3","blue-accent":"#448AFF","blue-dark":"#1976D2","blue-light":"#BBDEFB","indigo-base":"#3F51B5","indigo-accent":"#536DFE","indigo-dark":"#303F9F","indigo-light":"#C5CAE9","teal-base":"#009688","teal-accent":"#64FFDA","teal-dark":"#00796B","teal-light":"#B2DFDB","green-base":"#4CAF50","green-accent":"#69F0AE","green-dark":"#388E3C","green-light":"#C8E6C9","lime-base":"#CDDC39","lime-accent":"#EEFF41","lime-dark":"#AFB42B","lime-light":"#F0F4C3","yellow-base":"#FFEB3B","yellow-accent":"#FFD740","yellow-dark":"#FBC02D","yellow-light":"#FFF9C4","grey-base":"#9E9E9E","grey-accent":"#BDBDBD","grey-dark":"#616161","grey-light":"#F5F5F5","purple-base":"#9C27B0","purple-accent":"#E040FB","purple-accent-2":"#CE93D8","purple-dark":"#7B1FA2","purple-light":"#E1BEE7",primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}}});var y=l(1387);const C={class:"episode-title-bar-fullwidth"},E={class:"episode-title-bar-content"},I={class:"episode-selector-container"},x={class:"title-bar-actions"},D={class:"episode-info-section"},S={class:"inline-edit-field"},L={class:"inline-edit-field"},A={class:"inline-edit-field"},V={class:"inline-edit-field"},W={class:"inline-edit-field"},U={class:"inline-edit-field"},T={class:"inline-edit-field"},B={class:"status-table-container"},M={class:"text-caption"},$={class:"text-caption"},R={class:"text-caption"},P={class:"text-caption"},N={class:"text-caption"},O={class:"d-flex align-center justify-space-between h-100"},X={class:"d-flex align-center"},G={class:"index-display"},z={class:"d-flex align-center ml-3"},q={class:"ml-2 text-body-2 selected-slug"},K={class:"d-flex align-center",style:{gap:"0.5em"}},H={key:0,class:"text-center"},Q={class:"type-cell"},j={class:"index-number"},Z={class:"type-label"},J={class:"content-cell"},Y={class:"slug-text"},ee={class:"duration-box"},te={class:"backtime-box"},le={key:2,class:"text-center py-8"},ae={class:"header-content"},oe={class:"form-section"},ne={class:"section-title"},ie={class:"form-section"},se={class:"section-title"},re={class:"action-info"},de={class:"info-text"},ue={class:"header-content"},ce={class:"form-section"},pe={class:"section-title"},me={class:"form-section"},ge={class:"section-title"},he={class:"action-info"},fe={class:"info-text"};function be(e,t,l,i,s,r){const d=(0,o.g2)("EpisodeSelector"),u=(0,o.g2)("v-icon"),c=(0,o.g2)("v-btn"),p=(0,o.g2)("v-text-field"),m=(0,o.g2)("v-col"),g=(0,o.g2)("v-select"),h=(0,o.g2)("v-table"),f=(0,o.g2)("v-row"),b=(0,o.g2)("v-card-text"),v=(0,o.g2)("v-expand-transition"),k=(0,o.g2)("v-card"),F=(0,o.g2)("v-chip"),_=(0,o.g2)("v-tooltip"),w=(0,o.g2)("v-progress-circular"),y=(0,o.g2)("v-fade-transition"),be=(0,o.g2)("v-alert"),ve=(0,o.g2)("draggable"),ke=(0,o.g2)("v-card-title"),Fe=(0,o.g2)("v-spacer"),_e=(0,o.g2)("v-card-actions"),we=(0,o.g2)("v-dialog"),ye=(0,o.g2)("v-radio"),Ce=(0,o.g2)("v-radio-group"),Ee=(0,o.g2)("v-divider"),Ie=(0,o.g2)("v-textarea"),xe=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(xe,{fluid:"",class:"pa-0"},{default:(0,o.k6)(()=>[(0,o.bF)(f,{class:"header-row ma-0"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12",class:"pa-0"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",C,[(0,o.Lk)("div",E,[(0,o.Lk)("div",I,[t[34]||(t[34]=(0,o.Lk)("span",{class:"episode-label-above"},"Episode",-1)),(0,o.bF)(d,{episodes:s.episodes,"current-episode":s.selectedEpisode,loading:s.loading,disabled:s.loading,onEpisodeChanged:r.handleEpisodeChange,"button-class":"episode-select-titlebar"},null,8,["episodes","current-episode","loading","disabled","onEpisodeChanged"])]),(0,o.Lk)("div",x,[(0,o.bF)(c,{color:"white",variant:"text",size:"small",onClick:r.toggleEpisodeDetails,class:"toggle-details-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"16",class:(0,n.C4)({"rotate-180":s.showEpisodeDetails})},{default:(0,o.k6)(()=>t[35]||(t[35]=[(0,o.eW)("mdi-chevron-down")])),_:1,__:[35]},8,["class"]),(0,o.eW)(" "+(0,n.v_)(s.showEpisodeDetails?"Hide Episode Details":"Show Episode Details"),1)]),_:1},8,["onClick"]),(0,o.bF)(c,{color:"white",variant:"text",size:"small",onClick:e.saveEpisodeInfo,disabled:!s.episodeInfo||s.updatingEpisode,loading:s.updatingEpisode,class:"save-commit-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:"",size:"16"},{default:(0,o.k6)(()=>t[36]||(t[36]=[(0,o.eW)("mdi-content-save")])),_:1,__:[36]}),t[37]||(t[37]=(0,o.eW)(" Save & Commit "))]),_:1,__:[37]},8,["onClick","disabled","loading"])])])]),(0,o.Lk)("div",D,[t[51]||(t[51]=(0,o.Lk)("div",{class:"d-flex align-center justify-space-between mb-1"},[(0,o.Lk)("h2",{class:"text-h5 font-weight-bold"},"Rundown Editor")],-1)),(0,o.bF)(k,{class:"episode-info-card",variant:"outlined"},{default:(0,o.k6)(()=>[(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bo)((0,o.bF)(b,{class:"pa-5"},{default:(0,o.k6)(()=>[(0,o.bF)(f,{"no-gutters":""},{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"4",class:"pr-4"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",S,[t[38]||(t[38]=(0,o.Lk)("label",{class:"field-label"},"Title:",-1)),(0,o.bF)(p,{modelValue:s.inlineEpisodeInfo.title,"onUpdate:modelValue":t[0]||(t[0]=e=>s.inlineEpisodeInfo.title=e),variant:"solo",density:"compact","hide-details":"",class:"inline-input title-input",placeholder:"Episode title"},null,8,["modelValue"])]),(0,o.Lk)("div",L,[t[39]||(t[39]=(0,o.Lk)("label",{class:"field-label"},"Subtitle:",-1)),(0,o.bF)(p,{modelValue:s.inlineEpisodeInfo.subtitle,"onUpdate:modelValue":t[1]||(t[1]=e=>s.inlineEpisodeInfo.subtitle=e),variant:"solo",density:"compact","hide-details":"",class:"inline-input",placeholder:"Subtitle"},null,8,["modelValue"])]),(0,o.Lk)("div",A,[t[40]||(t[40]=(0,o.Lk)("label",{class:"field-label"},"Guests:",-1)),(0,o.bF)(p,{modelValue:s.inlineEpisodeInfo.guest,"onUpdate:modelValue":t[2]||(t[2]=e=>s.inlineEpisodeInfo.guest=e),variant:"solo",density:"compact","hide-details":"",class:"inline-input",placeholder:"guests, comma separated"},null,8,["modelValue"])]),(0,o.Lk)("div",V,[t[41]||(t[41]=(0,o.Lk)("label",{class:"field-label"},"Tags:",-1)),(0,o.bF)(p,{modelValue:s.inlineEpisodeInfo.tags,"onUpdate:modelValue":t[3]||(t[3]=e=>s.inlineEpisodeInfo.tags=e),variant:"solo",density:"compact","hide-details":"",class:"inline-input",placeholder:"tags, comma separated"},null,8,["modelValue"])])]),_:1}),(0,o.bF)(m,{cols:"4",class:"px-3"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",W,[t[42]||(t[42]=(0,o.Lk)("label",{class:"field-label"},"Status:",-1)),(0,o.bF)(g,{modelValue:s.inlineEpisodeInfo.status,"onUpdate:modelValue":t[4]||(t[4]=e=>s.inlineEpisodeInfo.status=e),variant:"solo",density:"compact","hide-details":"",class:"inline-input",items:[{title:"Draft",value:"draft"},{title:"Production",value:"production"},{title:"Ready",value:"ready"},{title:"Archived",value:"archived"}]},null,8,["modelValue"])]),(0,o.Lk)("div",U,[t[43]||(t[43]=(0,o.Lk)("label",{class:"field-label"},"Air Date:",-1)),(0,o.bF)(p,{modelValue:s.inlineEpisodeInfo.airdate,"onUpdate:modelValue":t[5]||(t[5]=e=>s.inlineEpisodeInfo.airdate=e),variant:"solo",density:"compact","hide-details":"",type:"date",class:"inline-input"},null,8,["modelValue"])]),(0,o.Lk)("div",T,[t[44]||(t[44]=(0,o.Lk)("label",{class:"field-label"},"Duration:",-1)),(0,o.bF)(p,{modelValue:s.inlineEpisodeInfo.duration,"onUpdate:modelValue":t[6]||(t[6]=e=>s.inlineEpisodeInfo.duration=e),variant:"solo",density:"compact","hide-details":"",class:"inline-input",placeholder:"HH:MM:SS"},null,8,["modelValue"])])]),_:1}),(0,o.bF)(m,{cols:"2",class:"pl-4"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",B,[t[50]||(t[50]=(0,o.Lk)("h3",{class:"status-table-title"},"Stats",-1)),(0,o.bF)(h,{density:"compact",class:"status-table-embedded"},{default:(0,o.k6)(()=>[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[t[45]||(t[45]=(0,o.Lk)("td",{class:"text-caption font-weight-medium"},"Segments:",-1)),(0,o.Lk)("td",M,(0,n.v_)(r.segmentCount),1)]),(0,o.Lk)("tr",null,[t[46]||(t[46]=(0,o.Lk)("td",{class:"text-caption font-weight-medium"},"Features:",-1)),(0,o.Lk)("td",$,(0,n.v_)(r.featureCount),1)]),(0,o.Lk)("tr",null,[t[47]||(t[47]=(0,o.Lk)("td",{class:"text-caption font-weight-medium"},"Promos:",-1)),(0,o.Lk)("td",R,(0,n.v_)(r.promoCount),1)]),(0,o.Lk)("tr",null,[t[48]||(t[48]=(0,o.Lk)("td",{class:"text-caption font-weight-medium"},"Adverts:",-1)),(0,o.Lk)("td",P,(0,n.v_)(r.advertCount),1)]),(0,o.Lk)("tr",null,[t[49]||(t[49]=(0,o.Lk)("td",{class:"text-caption font-weight-medium"},"CTAs:",-1)),(0,o.Lk)("td",N,(0,n.v_)(r.stingCount),1)])])]),_:1})])]),_:1}),(0,o.bF)(m,{cols:"2",class:"pl-4"})]),_:1})]),_:1},512),[[a.aG,s.showEpisodeDetails]])]),_:1})]),_:1})])]),_:1})]),_:1}),(0,o.bF)(f,{class:"controls-row mb-4"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12",class:"d-flex align-end justify-end gap-2"},{default:(0,o.k6)(()=>[(0,o.bF)(c,{color:"success",variant:"outlined",onClick:t[7]||(t[7]=e=>s.showAddItemDialog=!0),disabled:s.loading||!s.selectedEpisode,class:"mr-2"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[52]||(t[52]=[(0,o.eW)("mdi-plus")])),_:1,__:[52]}),t[53]||(t[53]=(0,o.eW)(" Add New Item "))]),_:1,__:[53]},8,["disabled"]),(0,o.bF)(c,{color:"info",variant:"outlined",onClick:r.refreshData,disabled:s.loading,class:"mr-2"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[54]||(t[54]=[(0,o.eW)("mdi-refresh")])),_:1,__:[54]}),t[55]||(t[55]=(0,o.eW)(" Refresh "))]),_:1,__:[55]},8,["onClick","disabled"]),(0,o.bF)(c,{color:"error",variant:"outlined",onClick:r.revertChanges,disabled:s.loading||0===s.segments.length,style:{display:"none"}},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[56]||(t[56]=[(0,o.eW)("mdi-undo")])),_:1,__:[56]}),t[57]||(t[57]=(0,o.eW)(" Revert "))]),_:1,__:[57]},8,["onClick","disabled"]),(0,o.bF)(c,{color:"primary",variant:"outlined",onClick:r.compileRundown,disabled:s.loading||0===s.segments.length},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[58]||(t[58]=[(0,o.eW)("mdi-cog")])),_:1,__:[58]}),t[59]||(t[59]=(0,o.eW)(" Compile "))]),_:1,__:[59]},8,["onClick","disabled"]),(0,o.bF)(c,{color:"secondary",variant:"outlined",class:"ml-2",onClick:r.printRundown,disabled:s.loading||0===s.segments.length},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[60]||(t[60]=[(0,o.eW)("mdi-printer")])),_:1,__:[60]}),t[61]||(t[61]=(0,o.eW)(" Print "))]),_:1,__:[61]},8,["onClick","disabled"]),(0,o.bF)(c,{color:"success",class:"ml-2",onClick:r.saveChanges,disabled:s.loading||0===s.segments.length},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[62]||(t[62]=[(0,o.eW)("mdi-content-save")])),_:1,__:[62]}),t[63]||(t[63]=(0,o.eW)(" Save & Commit "))]),_:1,__:[63]},8,["onClick","disabled"])]),_:1})]),_:1}),s.selectedItem?((0,o.uX)(),(0,o.Wv)(f,{key:0,class:"mb-4"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(k,{variant:"outlined",class:"selected-item-actions-compact"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",O,[(0,o.Lk)("div",X,[(0,o.Lk)("div",G,(0,n.v_)(10*(s.segments.findIndex(e=>e.filename===s.selectedItem.filename)+1)),1),(0,o.Lk)("div",z,[(0,o.bF)(u,{color:"primary",size:"16"},{default:(0,o.k6)(()=>t[64]||(t[64]=[(0,o.eW)("mdi-cursor-pointer")])),_:1,__:[64]}),t[65]||(t[65]=(0,o.Lk)("span",{class:"text-caption font-weight-medium ml-1"},"Selected:",-1)),(0,o.bF)(F,{class:(0,n.C4)([r.resolveTypeClass(s.selectedItem.type),"ml-2 compact-chip"]),size:"x-small"},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(s.selectedItem.type?.toUpperCase()||"UNKNOWN"),1)]),_:1},8,["class"]),(0,o.Lk)("span",q,(0,n.v_)((s.selectedItem.slug||"").toLowerCase()),1)])]),(0,o.Lk)("div",K,[(0,o.bF)(c,{color:"primary",variant:"flat",size:"small",class:"compact-btn",onClick:r.editSelectedItem},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:"",size:"14"},{default:(0,o.k6)(()=>t[66]||(t[66]=[(0,o.eW)("mdi-pencil")])),_:1,__:[66]}),t[67]||(t[67]=(0,o.eW)(" Edit "))]),_:1,__:[67]},8,["onClick"]),(0,o.bF)(c,{color:"secondary",variant:"flat",size:"small",class:"compact-btn",onClick:r.duplicateSelectedItem},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:"",size:"14"},{default:(0,o.k6)(()=>t[68]||(t[68]=[(0,o.eW)("mdi-content-copy")])),_:1,__:[68]}),t[69]||(t[69]=(0,o.eW)(" Duplicate "))]),_:1,__:[69]},8,["onClick"]),(0,o.bF)(c,{color:"warning",variant:"flat",size:"small",class:"compact-btn",onClick:r.moveSelectedItem},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:"",size:"14"},{default:(0,o.k6)(()=>t[70]||(t[70]=[(0,o.eW)("mdi-arrow-up-down")])),_:1,__:[70]}),t[71]||(t[71]=(0,o.eW)(" Move "))]),_:1,__:[71]},8,["onClick"]),(0,o.bF)(c,{color:"error",variant:"outlined",size:"small",class:"compact-btn",onClick:r.deleteSelectedItem},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:"",size:"14"},{default:(0,o.k6)(()=>t[72]||(t[72]=[(0,o.eW)("mdi-delete")])),_:1,__:[72]}),t[73]||(t[73]=(0,o.eW)(" Delete "))]),_:1,__:[73]},8,["onClick"]),(0,o.bF)(_,{bottom:""},{activator:(0,o.k6)(({props:e})=>[(0,o.bF)(c,(0,o.v6)(e,{color:"info",variant:"flat",size:"small",class:"compact-btn",icon:""}),{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"14"},{default:(0,o.k6)(()=>t[74]||(t[74]=[(0,o.eW)("mdi-keyboard")])),_:1,__:[74]})]),_:2},1040)]),default:(0,o.k6)(()=>[t[75]||(t[75]=(0,o.Lk)("div",{class:"pa-2"},[(0,o.Lk)("div",null,[(0,o.Lk)("strong",null,"Keyboard Shortcuts:")]),(0,o.Lk)("div",null,"↑/↓ - Navigate items"),(0,o.Lk)("div",null,"Enter - Edit"),(0,o.Lk)("div",null,"Ctrl+D - Duplicate"),(0,o.Lk)("div",null,"Delete - Remove"),(0,o.Lk)("div",null,"Esc - Clear selection")],-1))]),_:1,__:[75]}),(0,o.bF)(c,{color:"grey",variant:"outlined",size:"small",class:"compact-btn close-btn",onClick:r.clearSelection},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"14"},{default:(0,o.k6)(()=>t[76]||(t[76]=[(0,o.eW)("mdi-close")])),_:1,__:[76]})]),_:1},8,["onClick"])])])]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)(b,{onClick:r.handleContainerClick},{default:(0,o.k6)(()=>[(0,o.Lk)("div",null,[(0,o.bF)(y,null,{default:(0,o.k6)(()=>[s.loading?((0,o.uX)(),(0,o.CE)("div",H,[(0,o.bF)(w,{indeterminate:"",color:"primary",size:"64"}),t[77]||(t[77]=(0,o.Lk)("p",{class:"mt-2"},"Loading rundown...",-1))])):(0,o.Q3)("",!0)]),_:1}),s.loading||0!==s.segments.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(be,{key:0,type:"warning",outlined:"",class:"text-center"},{default:(0,o.k6)(()=>[(0,o.eW)(" No segments found for episode "+(0,n.v_)(s.selectedEpisode)+". Check /mnt/sync/disaffected/episodes/"+(0,n.v_)(s.selectedEpisode)+"/rundown/ for .md files. ",1)]),_:1})),s.segments&&s.segments.length>0?((0,o.uX)(),(0,o.Wv)(ve,{key:1,modelValue:s.segments,"onUpdate:modelValue":t[8]||(t[8]=e=>s.segments=e),"item-key":"filename",onStart:r.dragStart,onEnd:r.dragEnd,onChange:r.handleDragChange,animation:150,"ghost-class":"sortable-ghost","chosen-class":"sortable-chosen","drag-class":"sortable-drag"},{item:(0,o.k6)(({element:e,index:t})=>[e&&e.filename?((0,o.uX)(),(0,o.Wv)(v,{key:0},{default:(0,o.k6)(()=>[(0,o.bF)(k,{outlined:"",class:(0,n.C4)([r.resolveTypeClass(e.type),"elevation-1",{"selected-item":s.selectedItem&&s.selectedItem.filename===e.filename},{"single-click-effect":s.singleClickActive},{"double-click-effect":s.doubleClickActive}]),onClick:t=>r.handleSingleClick(e),onDblclick:t=>r.handleDoubleClick(e)},{default:(0,o.k6)(()=>[(0,o.bF)(f,{"no-gutters":"",class:"rundown-row"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{class:"type-col"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Q,[(0,o.Lk)("div",j,(0,n.v_)(10*(t+1)),1),(0,o.Lk)("div",Z,(0,n.v_)((e.type||"UNKNOWN").toUpperCase()),1)])]),_:2},1024),(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",J,[(0,o.Lk)("div",Y,(0,n.v_)((e.slug||"").toLowerCase()),1),(0,o.Lk)("div",ee,(0,n.v_)(e.duration),1),(0,o.Lk)("div",te,(0,n.v_)(r.calculateBacktime(t)),1)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick","onDblclick"])]),_:2},1024)):(0,o.Q3)("",!0)]),_:1},8,["modelValue","onStart","onEnd","onChange"])):!s.loading&&s.segments&&0===s.segments.length?((0,o.uX)(),(0,o.CE)("div",le,[(0,o.bF)(u,{size:"48",color:"grey-lighten-1",class:"mb-2"},{default:(0,o.k6)(()=>t[78]||(t[78]=[(0,o.eW)("mdi-playlist-remove")])),_:1,__:[78]}),t[79]||(t[79]=(0,o.Lk)("p",{class:"text-h6 text-grey-lighten-1"},"No rundown items found",-1)),t[80]||(t[80]=(0,o.Lk)("p",{class:"text-caption text-grey"},'Click "Add New Item" to get started',-1))])):(0,o.Q3)("",!0)])]),_:1},8,["onClick"]),(0,o.bF)(we,{modelValue:s.showUnavailableDialog,"onUpdate:modelValue":t[10]||(t[10]=e=>s.showUnavailableDialog=e),"max-width":"400"},{default:(0,o.k6)(()=>[(0,o.bF)(k,null,{default:(0,o.k6)(()=>[(0,o.bF)(ke,null,{default:(0,o.k6)(()=>t[81]||(t[81]=[(0,o.eW)("Unavailable")])),_:1,__:[81]}),(0,o.bF)(b,null,{default:(0,o.k6)(()=>t[82]||(t[82]=[(0,o.eW)(" This feature is not yet available. Talk to Kevin about when it will be ready. ")])),_:1,__:[82]}),(0,o.bF)(_e,null,{default:(0,o.k6)(()=>[(0,o.bF)(Fe),(0,o.bF)(c,{color:"primary",onClick:t[9]||(t[9]=e=>s.showUnavailableDialog=!1)},{default:(0,o.k6)(()=>t[83]||(t[83]=[(0,o.eW)("Close")])),_:1,__:[83]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(we,{modelValue:s.showCompileDialog,"onUpdate:modelValue":t[13]||(t[13]=e=>s.showCompileDialog=e),"max-width":"400"},{default:(0,o.k6)(()=>[(0,o.bF)(k,null,{default:(0,o.k6)(()=>[(0,o.bF)(ke,null,{default:(0,o.k6)(()=>t[84]||(t[84]=[(0,o.eW)("Compile Script")])),_:1,__:[84]}),(0,o.bF)(b,null,{default:(0,o.k6)(()=>[(0,o.bF)(Ce,{modelValue:s.compileTarget,"onUpdate:modelValue":t[11]||(t[11]=e=>s.compileTarget=e)},{default:(0,o.k6)(()=>[(0,o.bF)(ye,{label:"Director",value:"director"}),(0,o.bF)(ye,{label:"Host",value:"host"}),(0,o.bF)(ye,{label:"Prompter Operator",value:"prompter"})]),_:1},8,["modelValue"])]),_:1}),(0,o.bF)(_e,null,{default:(0,o.k6)(()=>[(0,o.bF)(Fe),(0,o.bF)(c,{color:"error",onClick:t[12]||(t[12]=e=>s.showCompileDialog=!1)},{default:(0,o.k6)(()=>t[85]||(t[85]=[(0,o.eW)("Cancel")])),_:1,__:[85]}),(0,o.bF)(c,{color:"primary",onClick:r.handleCompile},{default:(0,o.k6)(()=>t[86]||(t[86]=[(0,o.eW)("Compile")])),_:1,__:[86]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(we,{modelValue:s.showPrintDialog,"onUpdate:modelValue":t[16]||(t[16]=e=>s.showPrintDialog=e),"max-width":"400"},{default:(0,o.k6)(()=>[(0,o.bF)(k,null,{default:(0,o.k6)(()=>[(0,o.bF)(ke,null,{default:(0,o.k6)(()=>t[87]||(t[87]=[(0,o.eW)("Print for")])),_:1,__:[87]}),(0,o.bF)(b,null,{default:(0,o.k6)(()=>[(0,o.bF)(Ce,{modelValue:s.printTarget,"onUpdate:modelValue":t[14]||(t[14]=e=>s.printTarget=e)},{default:(0,o.k6)(()=>[(0,o.bF)(ye,{label:"Director",value:"director"}),(0,o.bF)(ye,{label:"Host",value:"host"}),(0,o.bF)(ye,{label:"Prompter Operator",value:"prompter"})]),_:1},8,["modelValue"])]),_:1}),(0,o.bF)(_e,null,{default:(0,o.k6)(()=>[(0,o.bF)(Fe),(0,o.bF)(c,{color:"error",onClick:t[15]||(t[15]=e=>s.showPrintDialog=!1)},{default:(0,o.k6)(()=>t[88]||(t[88]=[(0,o.eW)("Cancel")])),_:1,__:[88]}),(0,o.bF)(c,{color:"primary",onClick:r.handlePrint},{default:(0,o.k6)(()=>t[89]||(t[89]=[(0,o.eW)("Print")])),_:1,__:[89]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(we,{modelValue:s.showAddItemDialog,"onUpdate:modelValue":t[24]||(t[24]=e=>s.showAddItemDialog=e),"max-width":"700",persistent:""},{default:(0,o.k6)(()=>[(0,o.bF)(k,{class:"add-item-dialog"},{default:(0,o.k6)(()=>[(0,o.bF)(ke,{class:"add-item-header"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ae,[(0,o.bF)(u,{class:"header-icon",size:"28"},{default:(0,o.k6)(()=>t[90]||(t[90]=[(0,o.eW)("mdi-plus-circle")])),_:1,__:[90]}),t[91]||(t[91]=(0,o.Lk)("span",{class:"header-text"},"Add New Rundown Item",-1))])]),_:1}),(0,o.bF)(Ee,{class:"header-divider"}),(0,o.bF)(b,{class:"add-item-content"},{default:(0,o.k6)(()=>[(0,o.bF)(xe,{fluid:"",class:"pa-0"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",oe,[(0,o.Lk)("h3",ne,[(0,o.bF)(u,{size:"20",class:"section-icon"},{default:(0,o.k6)(()=>t[92]||(t[92]=[(0,o.eW)("mdi-information")])),_:1,__:[92]}),t[93]||(t[93]=(0,o.eW)(" Essential Information "))]),(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.newItem.slug,"onUpdate:modelValue":t[17]||(t[17]=e=>s.newItem.slug=e),label:"Slug",variant:"outlined",required:"",rules:[e=>!!e||"Slug is required"],hint:"Short identifier for this item (e.g., 'intro-segment')","prepend-inner-icon":"mdi-tag",class:"required-field"},null,8,["modelValue","rules"])]),_:1}),(0,o.bF)(m,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.newItem.title,"onUpdate:modelValue":t[18]||(t[18]=e=>s.newItem.title=e),label:"Title",variant:"outlined",required:"",rules:[e=>!!e||"Title is required"],"prepend-inner-icon":"mdi-format-title",class:"required-field"},null,8,["modelValue","rules"])]),_:1}),(0,o.bF)(m,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(g,{modelValue:s.newItem.type,"onUpdate:modelValue":t[19]||(t[19]=e=>s.newItem.type=e),items:s.itemTypes,label:"Type",variant:"outlined",required:"",rules:[e=>!!e||"Type is required"],"prepend-inner-icon":"mdi-shape",class:"required-field"},null,8,["modelValue","items","rules"])]),_:1}),(0,o.bF)(m,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.newItem.duration,"onUpdate:modelValue":t[20]||(t[20]=e=>s.newItem.duration=e),label:"Duration",variant:"outlined",placeholder:"00:05:30","prepend-inner-icon":"mdi-clock-outline",hint:"Format: HH:MM:SS"},null,8,["modelValue"])]),_:1})]),_:1})]),(0,o.Lk)("div",ie,[(0,o.Lk)("h3",se,[(0,o.bF)(u,{size:"20",class:"section-icon"},{default:(0,o.k6)(()=>t[94]||(t[94]=[(0,o.eW)("mdi-text-box")])),_:1,__:[94]}),t[95]||(t[95]=(0,o.eW)(" Additional Details ")),t[96]||(t[96]=(0,o.Lk)("span",{class:"optional-badge"},"Optional",-1))]),(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(Ie,{modelValue:s.newItem.description,"onUpdate:modelValue":t[21]||(t[21]=e=>s.newItem.description=e),label:"Description",variant:"outlined",rows:"3","auto-grow":"",hint:"Brief description of this rundown item","prepend-inner-icon":"mdi-text"},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.newItem.guests,"onUpdate:modelValue":t[22]||(t[22]=e=>s.newItem.guests=e),label:"Guests",variant:"outlined",hint:"Guest names (if applicable)","prepend-inner-icon":"mdi-account-multiple"},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.newItem.tags,"onUpdate:modelValue":t[23]||(t[23]=e=>s.newItem.tags=e),label:"Tags",variant:"outlined",hint:"Comma-separated tags","prepend-inner-icon":"mdi-tag-multiple"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1})]),_:1}),(0,o.bF)(Ee,{class:"footer-divider"}),(0,o.bF)(_e,{class:"add-item-actions"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",re,[(0,o.bF)(u,{size:"16",class:"info-icon"},{default:(0,o.k6)(()=>t[97]||(t[97]=[(0,o.eW)("mdi-information-outline")])),_:1,__:[97]}),(0,o.Lk)("span",de,"Item will be added to episode "+(0,n.v_)(s.selectedEpisode),1)]),(0,o.bF)(Fe),(0,o.bF)(c,{color:"error",variant:"outlined",onClick:r.cancelAddItem,disabled:s.creatingItem,class:"action-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[98]||(t[98]=[(0,o.eW)("mdi-close")])),_:1,__:[98]}),t[99]||(t[99]=(0,o.eW)(" Cancel "))]),_:1,__:[99]},8,["onClick","disabled"]),(0,o.bF)(c,{color:"success",variant:"elevated",onClick:r.createNewItem,disabled:!r.isNewItemValid||s.creatingItem,loading:s.creatingItem,class:"action-btn create-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[100]||(t[100]=[(0,o.eW)("mdi-plus")])),_:1,__:[100]}),t[101]||(t[101]=(0,o.eW)(" Create Item "))]),_:1,__:[101]},8,["onClick","disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(we,{modelValue:s.showEditEpisodeDialog,"onUpdate:modelValue":t[33]||(t[33]=e=>s.showEditEpisodeDialog=e),"max-width":"800",persistent:""},{default:(0,o.k6)(()=>[(0,o.bF)(k,{class:"edit-episode-dialog"},{default:(0,o.k6)(()=>[(0,o.bF)(ke,{class:"edit-episode-header"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ue,[(0,o.bF)(u,{class:"header-icon",size:"28"},{default:(0,o.k6)(()=>t[102]||(t[102]=[(0,o.eW)("mdi-television")])),_:1,__:[102]}),t[103]||(t[103]=(0,o.Lk)("span",{class:"header-text"},"Edit Episode Information",-1))])]),_:1}),(0,o.bF)(Ee,{class:"header-divider"}),(0,o.bF)(b,{class:"edit-episode-content"},{default:(0,o.k6)(()=>[(0,o.bF)(xe,{fluid:"",class:"pa-0"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ce,[(0,o.Lk)("h3",pe,[(0,o.bF)(u,{size:"20",class:"section-icon"},{default:(0,o.k6)(()=>t[104]||(t[104]=[(0,o.eW)("mdi-information")])),_:1,__:[104]}),t[105]||(t[105]=(0,o.eW)(" Basic Information "))]),(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"8"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.editableEpisodeInfo.title,"onUpdate:modelValue":t[25]||(t[25]=e=>s.editableEpisodeInfo.title=e),label:"Episode Title",variant:"outlined","prepend-inner-icon":"mdi-format-title"},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{cols:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.editableEpisodeInfo.duration,"onUpdate:modelValue":t[26]||(t[26]=e=>s.editableEpisodeInfo.duration=e),label:"Duration",variant:"outlined",placeholder:"01:00:00","prepend-inner-icon":"mdi-clock-outline",hint:"Format: HH:MM:SS"},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.editableEpisodeInfo.subtitle,"onUpdate:modelValue":t[27]||(t[27]=e=>s.editableEpisodeInfo.subtitle=e),label:"Subtitle",variant:"outlined","prepend-inner-icon":"mdi-subtitles"},null,8,["modelValue"])]),_:1})]),_:1})]),(0,o.Lk)("div",me,[(0,o.Lk)("h3",ge,[(0,o.bF)(u,{size:"20",class:"section-icon"},{default:(0,o.k6)(()=>t[106]||(t[106]=[(0,o.eW)("mdi-calendar")])),_:1,__:[106]}),t[107]||(t[107]=(0,o.eW)(" Production Details "))]),(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.editableEpisodeInfo.airdate,"onUpdate:modelValue":t[28]||(t[28]=e=>s.editableEpisodeInfo.airdate=e),label:"Air Date",variant:"outlined",type:"datetime-local","prepend-inner-icon":"mdi-calendar"},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(g,{modelValue:s.editableEpisodeInfo.status,"onUpdate:modelValue":t[29]||(t[29]=e=>s.editableEpisodeInfo.status=e),label:"Status",variant:"outlined",items:[{title:"Draft",value:"draft"},{title:"In Review",value:"review"},{title:"Production",value:"production"},{title:"Ready",value:"ready"},{title:"Archived",value:"archived"}],"prepend-inner-icon":"mdi-progress-check"},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.editableEpisodeInfo.guest,"onUpdate:modelValue":t[30]||(t[30]=e=>s.editableEpisodeInfo.guest=e),label:"Guests",variant:"outlined","prepend-inner-icon":"mdi-account-multiple"},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.editableEpisodeInfo.slug,"onUpdate:modelValue":t[31]||(t[31]=e=>s.editableEpisodeInfo.slug=e),label:"Slug",variant:"outlined","prepend-inner-icon":"mdi-link"},null,8,["modelValue"])]),_:1}),(0,o.bF)(m,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:s.editableEpisodeInfo.tags,"onUpdate:modelValue":t[32]||(t[32]=e=>s.editableEpisodeInfo.tags=e),label:"Tags",variant:"outlined",hint:"Comma-separated tags","prepend-inner-icon":"mdi-tag-multiple"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1})]),_:1}),(0,o.bF)(Ee,{class:"footer-divider"}),(0,o.bF)(_e,{class:"edit-episode-actions"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",he,[(0,o.bF)(u,{size:"16",class:"info-icon"},{default:(0,o.k6)(()=>t[108]||(t[108]=[(0,o.eW)("mdi-information-outline")])),_:1,__:[108]}),(0,o.Lk)("span",fe,"Changes will be saved to episode "+(0,n.v_)(s.selectedEpisode)+" info.md",1)]),(0,o.bF)(Fe),(0,o.bF)(c,{color:"error",variant:"outlined",onClick:e.cancelEpisodeEdit,disabled:s.updatingEpisode,class:"action-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[109]||(t[109]=[(0,o.eW)("mdi-close")])),_:1,__:[109]}),t[110]||(t[110]=(0,o.eW)(" Cancel "))]),_:1,__:[110]},8,["onClick","disabled"]),(0,o.bF)(c,{color:"success",variant:"elevated",onClick:e.saveEpisodeChanges,disabled:s.updatingEpisode,loading:s.updatingEpisode,class:"action-btn save-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{start:""},{default:(0,o.k6)(()=>t[111]||(t[111]=[(0,o.eW)("mdi-content-save")])),_:1,__:[111]}),t[112]||(t[112]=(0,o.eW)(" Save Changes "))]),_:1,__:[112]},8,["onClick","disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),s.showClickOverlay?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,n.C4)(["click-overlay",{single:"single"===s.clickType,double:"double"===s.clickType}])},(0,n.v_)("single"===s.clickType?"SINGLE CLICK":"DOUBLE CLICK"),3)):(0,o.Q3)("",!0)],64)}l(8111),l(2489),l(116),l(7588),l(1701),l(8237);function ve(e,t,l,a,i,s){const r=(0,o.g2)("v-icon"),d=(0,o.g2)("v-btn"),u=(0,o.g2)("v-list-item-title"),c=(0,o.g2)("v-list-item"),p=(0,o.g2)("v-list"),m=(0,o.g2)("v-menu");return(0,o.uX)(),(0,o.Wv)(m,{"offset-y":""},{activator:(0,o.k6)(({props:e})=>[(0,o.bF)(d,(0,o.v6)({text:""},e,{class:l.buttonClass,style:l.buttonStyle}),{default:(0,o.k6)(()=>[(0,o.bF)(r,{left:""},{default:(0,o.k6)(()=>t[0]||(t[0]=[(0,o.eW)("mdi-television-play")])),_:1,__:[0]}),(0,o.eW)(" "+(0,n.v_)(s.currentEpisodeLabel)+" ",1),(0,o.bF)(r,{right:""},{default:(0,o.k6)(()=>t[1]||(t[1]=[(0,o.eW)("mdi-chevron-down")])),_:1,__:[1]})]),_:2},1040,["class","style"])]),default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.episodes,e=>((0,o.uX)(),(0,o.Wv)(c,{key:e.id,onClick:t=>s.selectEpisode(e)},{default:(0,o.k6)(()=>[(0,o.bF)(u,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})}var ke={name:"EpisodeSelector",props:{episodes:{type:Array,required:!0},currentEpisode:{type:String,default:null},buttonClass:{type:String,default:""},buttonStyle:{type:Object,default:()=>({})}},computed:{currentEpisodeLabel(){if(!this.currentEpisode)return"Select Episode";const e=this.episodes.find(e=>e.value===this.currentEpisode);return e?e.title:"Select Episode"}},methods:{selectEpisode(e){this.$emit("episode-changed",e)}}};const Fe=(0,m.A)(ke,[["render",ve]]);var _e=Fe,we=l(1527),ye=l.n(we),Ce=l(7967),Ee={name:"RundownManager",components:{draggable:ye(),EpisodeSelector:_e},data(){return{segments:[],selectedEpisode:null,episodes:[],episodeInfo:null,selectedItem:null,loading:!1,isDragging:!1,dragError:null,showUnavailableDialog:!1,showCompileDialog:!1,showPrintDialog:!1,showAddItemDialog:!1,showEditEpisodeDialog:!1,compileTarget:"director",printTarget:"director",singleClickActive:!1,doubleClickActive:!1,clickTimer:null,showClickOverlay:!1,clickType:"",creatingItem:!1,updatingEpisode:!1,showEpisodeDetails:!1,editableEpisodeInfo:{title:"",subtitle:"",duration:"",guest:"",tags:"",slug:"",status:"",airdate:""},inlineEpisodeInfo:{title:"",subtitle:"",duration:"",guest:"",tags:"",slug:"",status:"",airdate:""},newItem:{title:"",type:"segment",slug:"",duration:"00:05:30",description:"",guests:"",tags:""},itemTypes:[{title:"Segment",value:"segment"},{title:"Promo",value:"promo"},{title:"Advert",value:"advert"},{title:"Feature",value:"feature"},{title:"Sting",value:"sting"},{title:"CTA",value:"cta"}]}},computed:{segmentCount(){return this.segments.filter(e=>"segment"===e.type).length},promoCount(){return this.segments.filter(e=>"promo"===e.type).length},advertCount(){return this.segments.filter(e=>"advert"===e.type).length},featureCount(){return this.segments.filter(e=>"feature"===e.type).length},stingCount(){return this.segments.filter(e=>"sting"===e.type).length},ctaCount(){return this.segments.filter(e=>"cta"===e.type).length},isNewItemValid(){return this.newItem.title.trim()&&this.newItem.slug.trim()&&this.newItem.type},modalThemeColor(){if(!this.newItem.type)return"primary";const e=(0,Ce.FH)(this.newItem.type.toLowerCase()),t={"purple-accent":"purple","blue-accent":"blue","green-accent":"green","red-accent":"red","yellow-accent":"yellow","grey-light":"grey",purple:"purple",blue:"blue",green:"green",red:"red",yellow:"yellow",grey:"grey",indigo:"indigo",teal:"teal",cyan:"cyan",pink:"pink",orange:"orange"};return t[e]||"primary"},modalThemeColorRgb(){const e=this.modalThemeColor,t={purple:"#9C27B0",blue:"#2196F3",green:"#4CAF50",red:"#F44336",yellow:"#FFC107",grey:"#9E9E9E",indigo:"#3F51B5",teal:"#009688",cyan:"#00BCD4",pink:"#E91E63",orange:"#FF9800",primary:"#1976D2"};return t[e]||t["primary"]}},watch:{},methods:{loadEpisodeFromSession(){const e=sessionStorage.getItem("currentEpisodeId");if(e&&this.episodes.length>0){const t=this.episodes.find(t=>t.id===parseInt(e));t?this.selectedEpisode=t.value:this.selectLatestEpisode()}else this.episodes.length>0&&this.selectLatestEpisode();this.selectedEpisode&&this.loadEpisode(this.selectedEpisode)},selectLatestEpisode(){const e=this.episodes.reduce((e,t)=>e.id>t.id?e:t);this.selectedEpisode=e.value,sessionStorage.setItem("currentEpisodeId",e.id)},async handleEpisodeChange(e){e&&e.value!==this.selectedEpisode&&(console.log("[DEBUG] Episode changed to:",e.value),this.selectedEpisode=e.value,sessionStorage.setItem("currentEpisodeId",e.id),await this.loadEpisode(e.value))},async fetchEpisodes(){this.loading=!0;try{console.log("[DEBUG] Fetching episodes...");const e=await c.A.get("http://127.0.0.1:8000/api/episodes");this.episodes=e.data.map(e=>({...e,value:e.value||`EP${String(e.id).padStart(3,"0")}`})),console.log("[DEBUG] Available episodes:",this.episodes),this.loadEpisodeFromSession()}catch(e){console.error("[ERROR] Failed to fetch episodes:",e)}finally{this.loading=!1}},async fetchEpisodeInfo(e){if(e)try{console.log("[DEBUG] Fetching episode info for:",e);const t=await c.A.get(`http://127.0.0.1:8000/api/episodes/${e}/info`);console.log("[DEBUG] Episode info response:",t.data),this.episodeInfo=t.data.info,console.log("[DEBUG] Stored episode info:",this.episodeInfo),this.populateInlineEpisodeInfo()}catch(t){console.error("[ERROR] Failed to fetch episode info:",t),this.episodeInfo=null,this.clearInlineEpisodeInfo()}},async loadEpisode(e){if(e){console.log("[DEBUG] Loading episode:",e),this.loading=!0;try{const[t]=await Promise.all([c.A.get(`http://127.0.0.1:8000/api/episodes/${e}/rundown`),this.fetchEpisodeInfo(e)]);console.log("[DEBUG] Raw API response:",t.data),t.data&&Array.isArray(t.data.items)?this.segments=t.data.items.map((e,t)=>({...e,filename:e.filename||`item-${t}-${Date.now()}`,id:e.id||`item-${Math.random().toString(36).substr(2,9)}`})).filter(e=>e.filename&&""!==e.filename.trim()):this.segments=[],console.log("[DEBUG] Processed segments:",this.segments),console.log("[DEBUG] Segments length:",this.segments.length)}catch(t){console.error("[ERROR] Failed to load rundown:",t),this.segments=[]}finally{this.loading=!1}}},async saveChanges(){try{const e={segments:this.segments.map(e=>({filename:e.filename}))},t=await c.A.post(`http://127.0.0.1:8000/api/episodes/${this.selectedEpisode}/reorder`,e);console.log("[DEBUG] Rundown saved:",t.data),alert("Rundown reordered successfully!")}catch(e){console.error("[ERROR] Failed to save rundown:",e),alert("Failed to save rundown: "+e.message)}},revertChanges(){this.showUnavailableDialog=!0},compileRundown(){this.showCompileDialog=!0},handleCompile(){console.log(`Compiling for ${this.compileTarget}`),this.showCompileDialog=!1},printRundown(){this.showPrintDialog=!0},handlePrint(){console.log(`Printing for ${this.printTarget}`),this.showPrintDialog=!1},clearSelection(){this.selectedItem=null,console.log("Selection cleared")},editSelectedItem(){this.selectedItem&&(console.log("Edit item:",this.selectedItem),alert(`Edit functionality for "${this.selectedItem.slug}" will be implemented soon!`))},duplicateSelectedItem(){this.selectedItem&&(console.log("Duplicate item:",this.selectedItem),alert(`Duplicate functionality for "${this.selectedItem.slug}" will be implemented soon!`))},moveSelectedItem(){this.selectedItem&&(console.log("Move item:",this.selectedItem),alert(`Move functionality for "${this.selectedItem.slug}" will be implemented soon!`))},async deleteSelectedItem(){if(!this.selectedItem)return;const e=confirm(`Are you sure you want to delete "${this.selectedItem.slug}"?`);if(e)try{console.log("Delete item:",this.selectedItem);const e=this.segments.findIndex(e=>e.filename===this.selectedItem.filename);-1!==e&&(this.segments.splice(e,1),this.selectedItem=null,alert("Item deleted successfully! (Note: This is currently local only)"))}catch(t){console.error("Failed to delete item:",t),alert("Failed to delete item: "+t.message)}},async createNewItem(){if(this.isNewItemValid){this.creatingItem=!0;try{const e=await c.A.post(`http://127.0.0.1:8000/api/episodes/${this.selectedEpisode}/item`,this.newItem);console.log("[DEBUG] New item created:",e.data),alert(`Successfully created: ${e.data.filename}`),this.resetNewItemForm(),this.showAddItemDialog=!1,await this.loadEpisode(this.selectedEpisode)}catch(e){console.error("[ERROR] Failed to create new item:",e),alert("Failed to create new rundown item: "+(e.response?.data?.detail||e.message))}finally{this.creatingItem=!1}}},cancelAddItem(){this.resetNewItemForm(),this.showAddItemDialog=!1},resetNewItemForm(){this.newItem={title:"",type:"segment",slug:"",duration:"00:05:30",description:"",guests:"",tags:""}},resolveTypeClass(e){if(!e||"unknown"===e)return console.log("[DEBUG] Resolving unknown type:",e),"bg-grey-light";const t=e.toLowerCase();console.log("[DEBUG] Type before color lookup:",{original:e,normalized:t});const l=(0,Ce.FH)(t),a=`bg-${l}`;return console.log("[DEBUG] Final color resolution:",{type:t,color:l,cssClass:a,availableColors:Ce.IO}),a},dragStart(){this.isDragging=!0;const e=(0,Ce.FH)("draglight"),t=(0,Ce.FH)("highlight"),l=(0,Ce.FH)("dropline");console.log("[DEBUG] Raw color values:",{dragLight:e,highlight:t,dropline:l}),document.documentElement.style.setProperty("--highlight-color",`rgb(var(--v-theme-${t}))`),document.documentElement.style.setProperty("--draglight-color",`rgb(var(--v-theme-${e}))`),document.documentElement.style.setProperty("--dropline-color",`rgb(var(--v-theme-${l}))`),requestAnimationFrame(()=>{document.body.offsetHeight})},dragEnd(){this.isDragging=!1,requestAnimationFrame(()=>{document.body.offsetHeight})},handleDragChange(e){console.log("[DEBUG] Drag operation:",e)},handleSingleClick(e){clearTimeout(this.clickTimer),this.clickTimer=setTimeout(()=>{this.doubleClickActive||(console.log("Single click - selecting item:",e),this.selectedItem=e,this.singleClickActive=!0,this.clickType="single",this.showClickOverlay=!0,setTimeout(()=>{this.singleClickActive=!1,this.showClickOverlay=!1},300))},200)},handleDoubleClick(e){clearTimeout(this.clickTimer),this.doubleClickActive=!0,console.log("Double click - quick edit:",e),this.selectedItem=e,this.clickType="double",this.showClickOverlay=!0,setTimeout(()=>{this.editSelectedItem(),this.doubleClickActive=!1,this.showClickOverlay=!1},200)},handleContainerClick(e){e.target===e.currentTarget&&this.clearSelection()},handleKeydown(e){if("INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&this.selectedItem)switch(e.key){case"Delete":case"Backspace":e.preventDefault(),this.deleteSelectedItem();break;case"Enter":e.preventDefault(),this.editSelectedItem();break;case"Escape":e.preventDefault(),this.clearSelection();break;case"d":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.duplicateSelectedItem());break;case"ArrowUp":e.preventDefault(),this.selectPreviousItem();break;case"ArrowDown":e.preventDefault(),this.selectNextItem();break}},selectPreviousItem(){if(!this.selectedItem||0===this.segments.length)return;const e=this.segments.findIndex(e=>e.filename===this.selectedItem.filename);e>0&&(this.selectedItem=this.segments[e-1])},selectNextItem(){if(!this.selectedItem||0===this.segments.length)return;const e=this.segments.findIndex(e=>e.filename===this.selectedItem.filename);e<this.segments.length-1&&(this.selectedItem=this.segments[e+1])},calculateBacktime(e){if(!this.episodeInfo||!this.episodeInfo.duration){console.warn("[WARN] No episode info available, using segment-based backtime");let l=0;try{for(let t=e;t<this.segments.length;t++){const e=this.segments[t].duration||"00:00:00";l+=this.parseDurationToSeconds(e)}}catch(t){return console.error("[ERROR] Failed to calculate backtime:",t),"00:00:00"}return this.formatSecondsToTime(l)}try{const t=this.parseDurationToSeconds(this.episodeInfo.duration);let l=0;for(let o=0;o<e;o++){const e=this.segments[o].duration||"00:00:00";l+=this.parseDurationToSeconds(e)}const a=t-l;return console.log("[DEBUG] Backtime calculation:",{currentIndex:e,totalShowDuration:this.episodeInfo.duration,totalShowSeconds:t,cumulativeSeconds:l,backtimeSeconds:a,formattedBacktime:this.formatSecondsToTime(Math.max(0,a))}),this.formatSecondsToTime(Math.max(0,a))}catch(t){return console.error("[ERROR] Failed to calculate backtime:",t),"00:00:00"}},parseDurationToSeconds(e){if(!e||"N/A"===e)return 0;const t=String(e),l=t.split(":");return 3===l.length?3600*parseInt(l[0])+60*parseInt(l[1])+parseInt(l[2]):2===l.length?60*parseInt(l[0])+parseInt(l[1]):0},formatSecondsToTime(e){const t=Math.floor(e/3600),l=Math.floor(e%3600/60),a=e%60;return`${t.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},async refreshData(){console.log("[DEBUG] Refreshing all data...");try{this.loading=!0;const e=new Map;this.segments.forEach((t,l)=>{t.filename&&e.set(t.filename,l)}),console.log("[DEBUG] Preserving current order for",e.size,"items"),this.selectedItem=null,await this.fetchEpisodes(),this.selectedEpisode&&await this.loadEpisodePreservingOrder(this.selectedEpisode,e),console.log("[DEBUG] Data refresh completed successfully"),this.$nextTick(()=>{console.log("[INFO] All data refreshed from source, order preserved")})}catch(e){console.error("[ERROR] Failed to refresh data:",e)}finally{this.loading=!1}},async loadEpisodePreservingOrder(e,t){if(e){console.log("[DEBUG] Loading episode with preserved order:",e);try{const[l]=await Promise.all([c.A.get(`http://127.0.0.1:8000/api/episodes/${e}/rundown`),this.fetchEpisodeInfo(e)]);console.log("[DEBUG] Raw API response:",l.data);const a=l.data.map((e,t)=>({...e.metadata,filename:e.filename||`item-${t}-${Date.now()}`,type:e.metadata?.type||"unknown",slug:e.metadata?.slug||"Untitled",id:e.metadata?.id||`id-${t}`,duration:e.metadata?.duration||"N/A"})).filter(e=>e.filename&&""!==e.filename.trim());if(t&&t.size>0){console.log("[DEBUG] Applying preserved order to fresh data");const e=[],l=[];a.forEach(a=>{t.has(a.filename)?e.push({item:a,originalIndex:t.get(a.filename)}):l.push(a)}),e.sort((e,t)=>e.originalIndex-t.originalIndex),this.segments=[...e.map(e=>e.item),...l],console.log("[DEBUG] Order preserved:",e.length,"items, added",l.length,"new items")}else this.segments=a,console.log("[DEBUG] No previous order to preserve, using fresh order");console.log("[DEBUG] Final segments after refresh:",this.segments.length)}catch(l){console.error("[ERROR] Failed to load episode with preserved order:",l),await this.loadEpisode(e)}}},toggleEpisodeDetails(){this.showEpisodeDetails=!this.showEpisodeDetails}},created(){const e=(0,Ce.FH)("highlight");document.documentElement.style.setProperty("--highlight-color",`rgb(var(--v-theme-${e}))`),this.updateSelectionColors(),this.updateModalTheme(),document.addEventListener("keydown",this.handleKeydown)},mounted(){this.fetchEpisodes()},beforeUnmount(){document.removeEventListener("keydown",this.handleKeydown)}};const Ie=(0,m.A)(Ee,[["render",be],["__scopeId","data-v-4af81a26"]]);var xe=Ie;const De={class:"content-editor-wrapper"},Se={class:"main-content-area debug-section-main"},Le={class:"status-text"},Ae={class:"rundown-header-row debug-section-rundownheader"},Ve={class:"rundown-list debug-section-rundownlist"},We={style:{background:"rgba(255, 193, 7, 0.2)",padding:"10px","font-size":"14px",border:"2px solid #FFC107","margin-bottom":"10px","font-weight":"bold"}},Ue=["onClick","onDragstart","onDragend","onDragover","onDrop"],Te={class:"item-content"},Be={class:"index-container"},Me={class:"item-index"},$e={class:"item-type-cell"},Re={class:"item-type"},Pe={class:"item-details"},Ne={class:"item-slug"},Oe={class:"item-duration"},Xe={class:"editor-panel debug-section-editor"};function Ge(e,t,l,i,s,r){const d=(0,o.g2)("v-spacer"),u=(0,o.g2)("v-btn"),c=(0,o.g2)("v-toolbar-items"),p=(0,o.g2)("v-toolbar"),m=(0,o.g2)("ShowInfoHeader"),g=(0,o.g2)("ColorSelector"),h=(0,o.g2)("v-icon"),f=(0,o.g2)("v-card"),b=(0,o.g2)("EditorPanel"),v=(0,o.g2)("AssetBrowserModal"),k=(0,o.g2)("GfxModal"),F=(0,o.g2)("FsqModal"),_=(0,o.g2)("SotModal"),w=(0,o.g2)("VoModal"),y=(0,o.g2)("NatModal"),C=(0,o.g2)("PkgModal"),E=(0,o.g2)("NewItemModal");return(0,o.uX)(),(0,o.CE)("div",De,[(0,o.bF)(p,{dense:"",flat:"",class:"main-toolbar debug-section-toolbar",style:{height:"128px","min-height":"128px","max-height":"128px","align-items":"flex-start"}},{default:(0,o.k6)(()=>[t[29]||(t[29]=(0,o.Lk)("span",{class:"debug-label"},"TOOLBAR",-1)),(0,o.bF)(d),(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(u,{text:"",onClick:r.saveAllContent},{default:(0,o.k6)(()=>t[27]||(t[27]=[(0,o.eW)("Save")])),_:1,__:[27]},8,["onClick"]),(0,o.bF)(u,{text:""},{default:(0,o.k6)(()=>t[28]||(t[28]=[(0,o.eW)("Publish")])),_:1,__:[28]})]),_:1})]),_:1,__:[29]}),(0,o.bF)(m,{title:r.currentShowTitle,"episode-info":r.currentEpisodeInfo,"episode-number":s.currentEpisodeNumber,"air-date":s.currentAirDate,"production-status":s.currentProductionStatus,"total-runtime":s.totalRuntime,episodes:s.episodes,"production-statuses":s.productionStatuses,"onUpdate:episodeNumber":r.handleEpisodeChange,"onUpdate:airDate":t[0]||(t[0]=e=>s.currentAirDate=e),"onUpdate:productionStatus":t[1]||(t[1]=e=>s.currentProductionStatus=e)},null,8,["title","episode-info","episode-number","air-date","production-status","total-runtime","episodes","production-statuses","onUpdate:episodeNumber"]),(0,o.bF)(g),(0,o.Lk)("div",Se,[t[40]||(t[40]=(0,o.Lk)("span",{class:"debug-label"},"MAIN CONTENT AREA",-1)),(0,o.bF)(f,{class:"rundown-panel debug-section-rundown",flat:"",style:(0,n.Tr)({border:"2px solid "+r.statusBarColor,borderRadius:"0"})},{default:(0,o.k6)(()=>[t[38]||(t[38]=(0,o.Lk)("span",{class:"debug-label"},"RUNDOWN PANEL",-1)),(0,o.Lk)("div",{class:"script-status-horizontal-bar",style:(0,n.Tr)({backgroundColor:r.statusBarColor,color:r.statusBarTextColor})},[(0,o.Lk)("span",Le,(0,n.v_)(s.currentProductionStatus),1)],4),(0,o.Lk)("div",Ae,[t[32]||(t[32]=(0,o.Lk)("span",{class:"debug-label"},"RUNDOWN HEADER",-1)),t[33]||(t[33]=(0,o.Lk)("span",{class:"rundown-header-title"},"Rundown",-1)),t[34]||(t[34]=(0,o.Lk)("div",{style:{flex:"1"}},null,-1)),(0,o.bF)(u,{icon:"","x-small":"",class:"rundown-header-btn",onClick:t[2]||(t[2]=e=>s.showNewItemModal=!0)},{default:(0,o.k6)(()=>[(0,o.bF)(h,{size:"18"},{default:(0,o.k6)(()=>t[30]||(t[30]=[(0,o.eW)("mdi-plus")])),_:1,__:[30]})]),_:1}),(0,o.bF)(u,{icon:"","x-small":"",class:"rundown-header-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(h,{size:"18"},{default:(0,o.k6)(()=>t[31]||(t[31]=[(0,o.eW)("mdi-dots-vertical")])),_:1,__:[31]})]),_:1})]),(0,o.Lk)("div",null,[t[37]||(t[37]=(0,o.Lk)("div",{class:"rundown-table-header debug-section-tableheader"},[(0,o.Lk)("span",{class:"debug-label"},"RUNDOWN TABLE HEADER"),(0,o.Lk)("div",{class:"index-container"},"Index"),(0,o.Lk)("div",{class:"item-type-cell"},"Type"),(0,o.Lk)("div",{class:"item-details"},"Slug"),(0,o.Lk)("div",{class:"item-duration"},"Duration")],-1)),(0,o.Lk)("div",Ve,[(0,o.bo)((0,o.Lk)("div",We,[(0,o.eW)(" � DRAGGING: "+(0,n.v_)(s.draggedItem?.slug)+" (index "+(0,n.v_)(s.draggedIndex)+") ",1),t[35]||(t[35]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)(" 🎯 HOVER: "+(0,n.v_)(s.dragOverIndex>=0?`${s.rundownItems[s.dragOverIndex]?.slug} (${s.dropZonePosition})`:"none"),1)],512),[[a.aG,s.isDragging]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.rundownItems,(e,l)=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,n.C4)(["rundown-item",{"selected-item":s.selectedItemIndex===l,"ghost-class":s.isDragging&&s.draggedIndex===l,"drag-over-above":s.dragOverIndex===l&&"above"===s.dropZonePosition,"drag-over-below":s.dragOverIndex===l&&"below"===s.dropZonePosition}]),style:(0,n.Tr)(r.resolveItemStyle(e,l)),draggable:"true",onClick:e=>r.selectRundownItem(l),onDragstart:t=>r.dragStart(t,e,l),onDragend:t=>r.dragEnd(t,e,l),onDragover:(0,a.D$)(e=>r.dragOver(e,l),["prevent"]),onDrop:(0,a.D$)(e=>r.dragDrop(e,l),["prevent"])},[(0,o.Lk)("div",Te,[t[36]||(t[36]=(0,o.Lk)("span",{class:"debug-label"},"RUNDOWN ITEM",-1)),(0,o.Lk)("div",Be,[(0,o.Lk)("span",Me,(0,n.v_)(l+1),1)]),(0,o.Lk)("div",$e,[(0,o.Lk)("span",Re,(0,n.v_)(e.type.toUpperCase()),1)]),(0,o.Lk)("div",Pe,[(0,o.Lk)("span",Ne,(0,n.v_)(e.slug.toLowerCase()),1)]),(0,o.Lk)("span",Oe,(0,n.v_)(e.duration),1)])],46,Ue))),128))])])]),_:1,__:[38]},8,["style"]),(0,o.Lk)("div",Xe,[t[39]||(t[39]=(0,o.Lk)("span",{class:"debug-label"},"EDITOR PANEL",-1)),(0,o.bF)(b,{item:r.currentRundownItem,"script-content":s.scriptContent,"onUpdate:scriptContent":t[3]||(t[3]=e=>s.scriptContent=e),"scratch-content":s.scratchContent,"onUpdate:scratchContent":t[4]||(t[4]=e=>s.scratchContent=e),"editor-mode":s.editorMode,"onUpdate:editorMode":t[5]||(t[5]=e=>s.editorMode=e),onContentChange:r.onContentChange,onMetadataChange:r.onMetadataChange,onInsertGfx:t[6]||(t[6]=e=>s.showGfxModal=!0),onInsertFsq:t[7]||(t[7]=e=>s.showFsqModal=!0),onInsertSot:t[8]||(t[8]=e=>s.showSotModal=!0),onInsertVo:t[9]||(t[9]=e=>s.showVoModal=!0),onInsertNat:t[10]||(t[10]=e=>s.showNatModal=!0),onInsertPkg:t[11]||(t[11]=e=>s.showPkgModal=!0)},null,8,["item","script-content","scratch-content","editor-mode","onContentChange","onMetadataChange"])])]),(0,o.bF)(v,{show:s.showAssetBrowser,"onUpdate:show":t[12]||(t[12]=e=>s.showAssetBrowser=e),onInsertAsset:r.insertAssetReference},null,8,["show","onInsertAsset"]),(0,o.bF)(k,{show:s.showGfxModal,"onUpdate:show":t[13]||(t[13]=e=>s.showGfxModal=e),slug:s.gfxSlug,"onUpdate:slug":t[14]||(t[14]=e=>s.gfxSlug=e),description:s.gfxDescription,"onUpdate:description":t[15]||(t[15]=e=>s.gfxDescription=e),"graphic-preview":s.graphicPreview,onPasteFromClipboard:e.pasteFromClipboard,onSelectFile:e.selectFile,onPasteUrl:e.pasteUrl,onSubmit:e.submitGraphic},null,8,["show","slug","description","graphic-preview","onPasteFromClipboard","onSelectFile","onPasteUrl","onSubmit"]),(0,o.bF)(F,{show:s.showFsqModal,"onUpdate:show":t[16]||(t[16]=e=>s.showFsqModal=e),onSubmit:e.submitFsq},null,8,["show","onSubmit"]),(0,o.bF)(_,{show:s.showSotModal,"onUpdate:show":t[17]||(t[17]=e=>s.showSotModal=e),onSubmit:e.submitSot},null,8,["show","onSubmit"]),(0,o.bF)(w,{show:s.showVoModal,"onUpdate:show":t[18]||(t[18]=e=>s.showVoModal=e),onSubmit:e.submitVo},null,8,["show","onSubmit"]),(0,o.bF)(y,{show:s.showNatModal,"onUpdate:show":t[19]||(t[19]=e=>s.showNatModal=e),onSubmit:e.submitNat},null,8,["show","onSubmit"]),(0,o.bF)(C,{show:s.showPkgModal,"onUpdate:show":t[20]||(t[20]=e=>s.showPkgModal=e),onSubmit:e.submitPkg},null,8,["show","onSubmit"]),(0,o.bF)(E,{show:s.showNewItemModal,"onUpdate:show":t[21]||(t[21]=e=>s.showNewItemModal=e),valid:s.newItemFormValid,"onUpdate:valid":t[22]||(t[22]=e=>s.newItemFormValid=e),type:s.newItemType,"onUpdate:type":t[23]||(t[23]=e=>s.newItemType=e),slug:s.newItemSlug,"onUpdate:slug":t[24]||(t[24]=e=>s.newItemSlug=e),duration:s.newItemDuration,"onUpdate:duration":t[25]||(t[25]=e=>s.newItemDuration=e),description:s.newItemDescription,"onUpdate:description":t[26]||(t[26]=e=>s.newItemDescription=e),loading:s.creatingNewItem,"item-types":s.rundownItemTypes,"duration-rules":r.durationRules,onCreate:e.createNewItem,onCancel:e.cancelNewItem},null,8,["show","valid","type","slug","duration","description","loading","item-types","duration-rules","onCreate","onCancel"])])}l(3579),l(7642),l(8004),l(3853),l(5876),l(2475),l(5024),l(1698);const ze={class:"d-flex align-center"},qe={key:0,class:"fill-height"},Ke={key:1,class:"fill-height"},He={key:2,class:"fill-height metadata-editor-container"},Qe={key:0,class:"metadata-editor pa-4"};function je(e,t,l,i,s,r){const d=(0,o.g2)("v-icon"),u=(0,o.g2)("v-btn"),c=(0,o.g2)("v-btn-toggle"),p=(0,o.g2)("v-spacer"),m=(0,o.g2)("v-chip"),g=(0,o.g2)("v-divider"),h=(0,o.g2)("v-tooltip"),f=(0,o.g2)("v-toolbar"),b=(0,o.g2)("v-textarea"),v=(0,o.g2)("v-text-field"),k=(0,o.g2)("v-col"),F=(0,o.g2)("v-select"),_=(0,o.g2)("v-row"),w=(0,o.g2)("v-card-text"),y=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.CE)("div",{class:(0,n.C4)(["editor-panel",l.showRundownPanel?"":"full-width"])},[(0,o.bF)(y,{class:"fill-height",flat:""},{default:(0,o.k6)(()=>[(0,o.bF)(f,{density:"comfortable",color:"surface",class:"px-2 py-1",style:{"min-height":"48px"}},{default:(0,o.k6)(()=>[l.showRundownPanel?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(u,{key:0,icon:"",size:"small",onClick:t[0]||(t[0]=t=>e.$emit("toggle-rundown-panel"))},{default:(0,o.k6)(()=>[(0,o.bF)(d,null,{default:(0,o.k6)(()=>t[17]||(t[17]=[(0,o.eW)("mdi-menu")])),_:1,__:[17]})]),_:1})),(0,o.bF)(c,{"model-value":l.editorMode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:editorMode",t)),mandatory:"",class:"ml-2",style:{display:"flex","align-items":"center"}},{default:(0,o.k6)(()=>[(0,o.bF)(u,{value:"script",size:"small",variant:"elevated",color:"primary"},{default:(0,o.k6)(()=>[(0,o.bF)(d,null,{default:(0,o.k6)(()=>t[18]||(t[18]=[(0,o.eW)("mdi-script-text")])),_:1,__:[18]}),t[19]||(t[19]=(0,o.eW)(" Script "))]),_:1,__:[19]}),(0,o.bF)(u,{value:"scratch",size:"small",variant:"elevated",color:"secondary"},{default:(0,o.k6)(()=>[(0,o.bF)(d,null,{default:(0,o.k6)(()=>t[20]||(t[20]=[(0,o.eW)("mdi-pencil")])),_:1,__:[20]}),t[21]||(t[21]=(0,o.eW)(" Scratch "))]),_:1,__:[21]}),(0,o.bF)(u,{value:"metadata",size:"small",variant:"elevated",color:"info"},{default:(0,o.k6)(()=>[(0,o.bF)(d,null,{default:(0,o.k6)(()=>t[22]||(t[22]=[(0,o.eW)("mdi-cog")])),_:1,__:[22]}),t[23]||(t[23]=(0,o.eW)(" Metadata "))]),_:1,__:[23]})]),_:1},8,["model-value"]),(0,o.bF)(p),(0,o.Lk)("div",ze,[(0,o.bF)(m,{size:"small",variant:"text",class:"mr-2 d-flex align-center",style:{padding:"0 12px","min-width":"110px"}},{default:(0,o.k6)(()=>[(0,o.bF)(d,{left:""},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.getModeIcon()),1)]),_:1}),(0,o.eW)(" "+(0,n.v_)(l.editorMode.toUpperCase())+" MODE ",1)]),_:1}),"scratch"===l.editorMode?((0,o.uX)(),(0,o.Wv)(u,{key:0,size:"small",onClick:t[2]||(t[2]=t=>e.$emit("show-asset-browser"))},{default:(0,o.k6)(()=>[(0,o.bF)(d,{left:""},{default:(0,o.k6)(()=>t[24]||(t[24]=[(0,o.eW)("mdi-paperclip")])),_:1,__:[24]}),t[25]||(t[25]=(0,o.eW)(" Assets "))]),_:1,__:[25]})):(0,o.Q3)("",!0),(0,o.bF)(g,{vertical:"",class:"mx-2"}),(0,o.bF)(m,{color:l.hasUnsavedChanges?"warning":"success",size:"small",variant:"flat"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{left:""},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(l.hasUnsavedChanges?"mdi-content-save-alert":"mdi-content-save"),1)]),_:1}),(0,o.eW)(" "+(0,n.v_)(l.hasUnsavedChanges?"Unsaved":"Saved"),1)]),_:1},8,["color"]),(0,o.bF)(u,{icon:"",size:"small",onClick:t[3]||(t[3]=t=>e.$emit("save")),disabled:!l.hasUnsavedChanges},{default:(0,o.k6)(()=>[(0,o.bF)(d,null,{default:(0,o.k6)(()=>t[26]||(t[26]=[(0,o.eW)("mdi-content-save")])),_:1,__:[26]}),(0,o.bF)(h,{activator:"parent",location:"bottom"},{default:(0,o.k6)(()=>t[27]||(t[27]=[(0,o.eW)("Save Current Item (Ctrl+S)")])),_:1,__:[27]})]),_:1},8,["disabled"])])]),_:1}),"script"===l.editorMode?((0,o.uX)(),(0,o.Wv)(f,{key:0,density:"comfortable",class:"cue-buttons-toolbar px-2 py-1",style:{"border-bottom":"1px solid var(--v-theme-outline)","min-height":"48px",background:"rgba(0,0,0,0.05)"}},{default:(0,o.k6)(()=>[t[46]||(t[46]=(0,o.Lk)("span",{class:"text-overline mr-4"},"Insert Element Cues",-1)),(0,o.bF)(p),(0,o.bF)(u,{size:"small",class:"mx-1 cue-btn",onClick:t[4]||(t[4]=t=>e.$emit("show-gfx-modal")),color:"blue-darken-3",variant:"elevated"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"20"},{default:(0,o.k6)(()=>t[28]||(t[28]=[(0,o.eW)("mdi-image")])),_:1,__:[28]}),t[30]||(t[30]=(0,o.eW)(" GFX ")),(0,o.bF)(h,{activator:"parent",location:"bottom"},{default:(0,o.k6)(()=>t[29]||(t[29]=[(0,o.eW)("Alt+G")])),_:1,__:[29]})]),_:1,__:[30]}),(0,o.bF)(u,{size:"small",class:"mx-1 cue-btn",onClick:t[5]||(t[5]=t=>e.$emit("show-fsq-modal")),color:"green-darken-3",variant:"elevated"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"20"},{default:(0,o.k6)(()=>t[31]||(t[31]=[(0,o.eW)("mdi-format-quote-close")])),_:1,__:[31]}),t[33]||(t[33]=(0,o.eW)(" FSQ ")),(0,o.bF)(h,{activator:"parent",location:"bottom"},{default:(0,o.k6)(()=>t[32]||(t[32]=[(0,o.eW)("Alt+Q")])),_:1,__:[32]})]),_:1,__:[33]}),(0,o.bF)(u,{size:"small",class:"mx-1 cue-btn",onClick:t[6]||(t[6]=t=>e.$emit("show-sot-modal")),color:"purple-darken-3",variant:"elevated"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"20"},{default:(0,o.k6)(()=>t[34]||(t[34]=[(0,o.eW)("mdi-play")])),_:1,__:[34]}),t[36]||(t[36]=(0,o.eW)(" SOT ")),(0,o.bF)(h,{activator:"parent",location:"bottom"},{default:(0,o.k6)(()=>t[35]||(t[35]=[(0,o.eW)("Alt+S")])),_:1,__:[35]})]),_:1,__:[36]}),(0,o.bF)(u,{size:"small",class:"mx-1 cue-btn",onClick:t[7]||(t[7]=t=>e.$emit("show-vo-modal")),color:"deep-orange-darken-3",variant:"elevated"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"20"},{default:(0,o.k6)(()=>t[37]||(t[37]=[(0,o.eW)("mdi-microphone")])),_:1,__:[37]}),t[39]||(t[39]=(0,o.eW)(" VO ")),(0,o.bF)(h,{activator:"parent",location:"bottom"},{default:(0,o.k6)(()=>t[38]||(t[38]=[(0,o.eW)("Alt+V")])),_:1,__:[38]})]),_:1,__:[39]}),(0,o.bF)(u,{size:"small",class:"mx-1 cue-btn",onClick:t[8]||(t[8]=t=>e.$emit("show-nat-modal")),color:"teal-darken-3",variant:"elevated"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"20"},{default:(0,o.k6)(()=>t[40]||(t[40]=[(0,o.eW)("mdi-volume-high")])),_:1,__:[40]}),t[42]||(t[42]=(0,o.eW)(" NAT ")),(0,o.bF)(h,{activator:"parent",location:"bottom"},{default:(0,o.k6)(()=>t[41]||(t[41]=[(0,o.eW)("Alt+N")])),_:1,__:[41]})]),_:1,__:[42]}),(0,o.bF)(u,{size:"small",class:"mx-1 cue-btn",onClick:t[9]||(t[9]=t=>e.$emit("show-pkg-modal")),color:"red-darken-3",variant:"elevated"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"20"},{default:(0,o.k6)(()=>t[43]||(t[43]=[(0,o.eW)("mdi-package-variant")])),_:1,__:[43]}),t[45]||(t[45]=(0,o.eW)(" PKG ")),(0,o.bF)(h,{activator:"parent",location:"bottom"},{default:(0,o.k6)(()=>t[44]||(t[44]=[(0,o.eW)("Alt+P")])),_:1,__:[44]})]),_:1,__:[45]})]),_:1,__:[46]})):(0,o.Q3)("",!0),(0,o.bF)(w,{class:"pa-0 editor-content"},{default:(0,o.k6)(()=>["script"===l.editorMode?((0,o.uX)(),(0,o.CE)("div",qe,[(0,o.bF)(b,{"model-value":l.scriptContent,"onUpdate:modelValue":t[10]||(t[10]=e=>r.onContentInput("script",e)),placeholder:r.scriptPlaceholder,variant:"plain","hide-details":"",class:"editor-textarea",style:{height:"100%"},rows:"30","auto-grow":""},null,8,["model-value","placeholder"])])):"scratch"===l.editorMode?((0,o.uX)(),(0,o.CE)("div",Ke,[(0,o.bF)(b,{"model-value":l.scratchContent,"onUpdate:modelValue":t[11]||(t[11]=e=>r.onContentInput("scratch",e)),placeholder:r.scratchPlaceholder,variant:"plain","hide-details":"",class:"editor-textarea scratch-mode",style:{height:"100%"},onDrop:r.handleAssetDrop,onDragover:t[12]||(t[12]=(0,a.D$)(()=>{},["prevent"])),rows:"30","auto-grow":""},null,8,["model-value","placeholder","onDrop"])])):"metadata"===l.editorMode?((0,o.uX)(),(0,o.CE)("div",He,[s.internalMetadata?((0,o.uX)(),(0,o.CE)("div",Qe,[(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.bF)(k,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(v,{modelValue:s.internalMetadata.title,"onUpdate:modelValue":t[13]||(t[13]=e=>s.internalMetadata.title=e),label:"Title",variant:"outlined",density:"compact",onInput:r.onMetadataInput,rules:l.titleRules},null,8,["modelValue","onInput","rules"])]),_:1}),(0,o.bF)(k,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(F,{modelValue:s.internalMetadata.type,"onUpdate:modelValue":[t[14]||(t[14]=e=>s.internalMetadata.type=e),r.onMetadataInput],items:l.itemTypes,label:"Type",variant:"outlined",density:"compact"},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1})]),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.bF)(k,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(v,{modelValue:s.internalMetadata.slug,"onUpdate:modelValue":t[15]||(t[15]=e=>s.internalMetadata.slug=e),label:"Slug",variant:"outlined",density:"compact",onInput:r.onMetadataInput},null,8,["modelValue","onInput"])]),_:1}),(0,o.bF)(k,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(v,{modelValue:s.internalMetadata.duration,"onUpdate:modelValue":t[16]||(t[16]=e=>s.internalMetadata.duration=e),label:"Duration",placeholder:"00:05:30",variant:"outlined",density:"compact",onInput:r.onMetadataInput,rules:l.durationRules},null,8,["modelValue","onInput","rules"])]),_:1})]),_:1})])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)]),_:1})]),_:1})],2)}var Ze=l(9243),Je=l.n(Ze),Ye={name:"EditorPanel",props:{editorMode:{type:String,required:!0},scriptContent:{type:String,default:""},scratchContent:{type:String,default:""},metadata:{type:Object,default:()=>({})},hasUnsavedChanges:{type:Boolean,default:!1},showRundownPanel:{type:Boolean,default:!0},itemTypes:{type:Array,default:()=>[]},titleRules:{type:Array,default:()=>[]},durationRules:{type:Array,default:()=>[]}},emits:["update:editorMode","update:scriptContent","update:scratchContent","update:metadata","save","show-asset-browser","toggle-rundown-panel","asset-drop"],data(){return{internalMetadata:null,customMetadataYaml:""}},computed:{scriptPlaceholder(){return this.metadata?.title?`Script for ${this.metadata.title}...`:"Select an item to start writing..."},scratchPlaceholder(){return this.metadata?.title?`Scratchpad for ${this.metadata.title}...`:"Select an item to start brainstorming..."}},watch:{metadata:{handler(e){this.internalMetadata=e?JSON.parse(JSON.stringify(e)):null,this.internalMetadata?.custom?this.customMetadataYaml=Je().dump(this.internalMetadata.custom):this.customMetadataYaml=""},deep:!0,immediate:!0}},methods:{onContentInput(e,t){"script"===e?this.$emit("update:scriptContent",t):"scratch"===e&&this.$emit("update:scratchContent",t)},onMetadataInput(){this.$emit("update:metadata",this.internalMetadata)},onCustomMetadataChange(){try{const e=Je().load(this.customMetadataYaml);this.internalMetadata.custom=e,this.onMetadataInput()}catch(e){console.warn("Invalid YAML in custom metadata:",e.message)}},handleAssetDrop(e){this.$emit("asset-drop",e)}}};const et=(0,m.A)(Ye,[["render",je],["__scopeId","data-v-3a91f08e"]]);var tt=et;function lt(e,t,l,a,i,s){const r=(0,o.g2)("v-spacer"),d=(0,o.g2)("v-icon"),u=(0,o.g2)("v-btn"),c=(0,o.g2)("v-card-title"),p=(0,o.g2)("v-file-input"),m=(0,o.g2)("v-divider"),g=(0,o.g2)("v-img"),h=(0,o.g2)("v-card-subtitle"),f=(0,o.g2)("v-card"),b=(0,o.g2)("v-col"),v=(0,o.g2)("v-row"),k=(0,o.g2)("v-card-text"),F=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(F,{"model-value":l.show,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:show",t)),"max-width":"800px"},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,null,{default:(0,o.k6)(()=>[t[5]||(t[5]=(0,o.Lk)("span",{class:"text-h5"},"Asset Browser",-1)),(0,o.bF)(r),(0,o.bF)(u,{icon:"",onClick:t[0]||(t[0]=t=>e.$emit("update:show",!1))},{default:(0,o.k6)(()=>[(0,o.bF)(d,null,{default:(0,o.k6)(()=>t[4]||(t[4]=[(0,o.eW)("mdi-close")])),_:1,__:[4]})]),_:1})]),_:1,__:[5]}),(0,o.bF)(k,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{"model-value":l.selectedFiles,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:selectedFiles",t)),label:"Upload new assets",multiple:"",accept:"image/*,video/*,audio/*",onChange:t[2]||(t[2]=t=>e.$emit("upload")),class:"mb-4"},null,8,["model-value"]),(0,o.bF)(m,{class:"my-4"}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.availableAssets,t=>((0,o.uX)(),(0,o.Wv)(b,{key:t.id,cols:"12",sm:"6",md:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(f,{onClick:l=>e.$emit("insert-asset",t),class:"asset-card",hover:""},{default:(0,o.k6)(()=>["image"===t.type?((0,o.uX)(),(0,o.Wv)(g,{key:0,src:t.thumbnail||t.url,height:"120",cover:""},null,8,["src"])):((0,o.uX)(),(0,o.Wv)(c,{key:1,class:"d-flex align-center justify-center",style:{height:"120px"}},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"48",color:s.getAssetTypeColor(t.type)},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(s.getAssetTypeIcon(t.type)),1)]),_:2},1032,["color"])]),_:2},1024)),(0,o.bF)(h,{class:"text-center"},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(t.filename),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}var at={name:"AssetBrowserModal",props:{show:{type:Boolean,required:!0},availableAssets:{type:Array,default:()=>[]},selectedFiles:{type:Array,default:()=>[]}},emits:["update:show","update:selectedFiles","upload","insert-asset"],methods:{getAssetTypeColor(e){const t={video:"blue",audio:"green",other:"grey"};return t[e]||t.other},getAssetTypeIcon(e){const t={video:"mdi-movie",audio:"mdi-music-note",other:"mdi-file-document"};return t[e]||t.other}}};const ot=(0,m.A)(at,[["render",lt],["__scopeId","data-v-633c39bf"]]);var nt=ot;const it={class:"d-flex justify-space-between mt-4"};function st(e,t,l,a,n,i){const s=(0,o.g2)("v-card-title"),r=(0,o.g2)("v-text-field"),d=(0,o.g2)("v-textarea"),u=(0,o.g2)("v-btn"),c=(0,o.g2)("v-img"),p=(0,o.g2)("v-card-text"),m=(0,o.g2)("v-spacer"),g=(0,o.g2)("v-card-actions"),h=(0,o.g2)("v-card"),f=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(f,{"model-value":l.show,"onUpdate:modelValue":t[7]||(t[7]=t=>e.$emit("update:show",t)),"max-width":"600"},{default:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>t[8]||(t[8]=[(0,o.eW)("Add GFX")])),_:1,__:[8]}),(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(r,{label:"Slug","model-value":l.slug,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:slug",t)),required:""},null,8,["model-value"]),(0,o.bF)(d,{label:"Description","model-value":l.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:description",t)),rows:"3",required:""},null,8,["model-value"]),(0,o.Lk)("div",it,[(0,o.bF)(u,{color:"primary",onClick:t[2]||(t[2]=t=>e.$emit("paste-from-clipboard"))},{default:(0,o.k6)(()=>t[9]||(t[9]=[(0,o.eW)("Paste from Clipboard")])),_:1,__:[9]}),(0,o.bF)(u,{color:"primary",onClick:t[3]||(t[3]=t=>e.$emit("select-file"))},{default:(0,o.k6)(()=>t[10]||(t[10]=[(0,o.eW)("Select File")])),_:1,__:[10]}),(0,o.bF)(u,{color:"primary",onClick:t[4]||(t[4]=t=>e.$emit("paste-url"))},{default:(0,o.k6)(()=>t[11]||(t[11]=[(0,o.eW)("Paste URL")])),_:1,__:[11]})]),l.graphicPreview?((0,o.uX)(),(0,o.Wv)(c,{key:0,src:l.graphicPreview,"max-height":"200",class:"mt-4"},null,8,["src"])):(0,o.Q3)("",!0)]),_:1}),(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(m),(0,o.bF)(u,{color:"primary",onClick:t[5]||(t[5]=t=>e.$emit("submit"))},{default:(0,o.k6)(()=>t[12]||(t[12]=[(0,o.eW)("Attach")])),_:1,__:[12]}),(0,o.bF)(u,{color:"secondary",onClick:t[6]||(t[6]=t=>e.$emit("update:show",!1))},{default:(0,o.k6)(()=>t[13]||(t[13]=[(0,o.eW)("Cancel")])),_:1,__:[13]})]),_:1})]),_:1})]),_:1},8,["model-value"])}var rt={name:"GfxModal",props:{show:{type:Boolean,required:!0},slug:{type:String,default:""},description:{type:String,default:""},graphicPreview:{type:String,default:""}},emits:["update:show","update:slug","update:description","paste-from-clipboard","select-file","paste-url","submit"]};const dt=(0,m.A)(rt,[["render",st]]);var ut=dt;function ct(e,t,l,a,n,i){const s=(0,o.g2)("v-card-title"),r=(0,o.g2)("v-card-text"),d=(0,o.g2)("v-spacer"),u=(0,o.g2)("v-btn"),c=(0,o.g2)("v-card-actions"),p=(0,o.g2)("v-card"),m=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(m,{"model-value":l.show,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:show",t)),"max-width":"600"},{default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>t[3]||(t[3]=[(0,o.eW)("Add FSQ (Full Screen Quote)")])),_:1,__:[3]}),(0,o.bF)(r,null,{default:(0,o.k6)(()=>t[4]||(t[4]=[(0,o.Lk)("p",{class:"text-caption"},"FSQ modal fields coming soon...",-1)])),_:1,__:[4]}),(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(d),(0,o.bF)(u,{color:"primary",onClick:t[0]||(t[0]=t=>e.$emit("submit"))},{default:(0,o.k6)(()=>t[5]||(t[5]=[(0,o.eW)("Insert")])),_:1,__:[5]}),(0,o.bF)(u,{color:"secondary",onClick:t[1]||(t[1]=t=>e.$emit("update:show",!1))},{default:(0,o.k6)(()=>t[6]||(t[6]=[(0,o.eW)("Cancel")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1},8,["model-value"])}var pt={name:"FsqModal",props:{show:{type:Boolean,required:!0}},emits:["update:show","submit"]};const mt=(0,m.A)(pt,[["render",ct]]);var gt=mt;function ht(e,t,l,a,n,i){const s=(0,o.g2)("v-card-title"),r=(0,o.g2)("v-card-text"),d=(0,o.g2)("v-spacer"),u=(0,o.g2)("v-btn"),c=(0,o.g2)("v-card-actions"),p=(0,o.g2)("v-card"),m=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(m,{"model-value":l.show,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:show",t)),"max-width":"600"},{default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>t[3]||(t[3]=[(0,o.eW)("Add SOT (Sound on Tape)")])),_:1,__:[3]}),(0,o.bF)(r,null,{default:(0,o.k6)(()=>t[4]||(t[4]=[(0,o.Lk)("p",{class:"text-caption"},"SOT modal fields coming soon...",-1)])),_:1,__:[4]}),(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(d),(0,o.bF)(u,{color:"primary",onClick:t[0]||(t[0]=t=>e.$emit("submit"))},{default:(0,o.k6)(()=>t[5]||(t[5]=[(0,o.eW)("Insert")])),_:1,__:[5]}),(0,o.bF)(u,{color:"secondary",onClick:t[1]||(t[1]=t=>e.$emit("update:show",!1))},{default:(0,o.k6)(()=>t[6]||(t[6]=[(0,o.eW)("Cancel")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1},8,["model-value"])}var ft={name:"SotModal",props:{show:{type:Boolean,required:!0}},emits:["update:show","submit"]};const bt=(0,m.A)(ft,[["render",ht]]);var vt=bt;function kt(e,t,l,a,n,i){const s=(0,o.g2)("v-card-title"),r=(0,o.g2)("v-card-text"),d=(0,o.g2)("v-spacer"),u=(0,o.g2)("v-btn"),c=(0,o.g2)("v-card-actions"),p=(0,o.g2)("v-card"),m=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(m,{"model-value":l.show,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:show",t)),"max-width":"600"},{default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>t[3]||(t[3]=[(0,o.eW)("Add VO (Voice Over)")])),_:1,__:[3]}),(0,o.bF)(r,null,{default:(0,o.k6)(()=>t[4]||(t[4]=[(0,o.Lk)("p",{class:"text-caption"},"VO modal fields coming soon...",-1)])),_:1,__:[4]}),(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(d),(0,o.bF)(u,{color:"primary",onClick:t[0]||(t[0]=t=>e.$emit("submit"))},{default:(0,o.k6)(()=>t[5]||(t[5]=[(0,o.eW)("Insert")])),_:1,__:[5]}),(0,o.bF)(u,{color:"secondary",onClick:t[1]||(t[1]=t=>e.$emit("update:show",!1))},{default:(0,o.k6)(()=>t[6]||(t[6]=[(0,o.eW)("Cancel")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1},8,["model-value"])}var Ft={name:"VoModal",props:{show:{type:Boolean,required:!0}},emits:["update:show","submit"]};const _t=(0,m.A)(Ft,[["render",kt]]);var wt=_t;function yt(e,t,l,a,n,i){const s=(0,o.g2)("v-card-title"),r=(0,o.g2)("v-card-text"),d=(0,o.g2)("v-spacer"),u=(0,o.g2)("v-btn"),c=(0,o.g2)("v-card-actions"),p=(0,o.g2)("v-card"),m=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(m,{"model-value":l.show,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:show",t)),"max-width":"600"},{default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>t[3]||(t[3]=[(0,o.eW)("Add NAT (Natural Sound)")])),_:1,__:[3]}),(0,o.bF)(r,null,{default:(0,o.k6)(()=>t[4]||(t[4]=[(0,o.Lk)("p",{class:"text-caption"},"NAT modal fields coming soon...",-1)])),_:1,__:[4]}),(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(d),(0,o.bF)(u,{color:"primary",onClick:t[0]||(t[0]=t=>e.$emit("submit"))},{default:(0,o.k6)(()=>t[5]||(t[5]=[(0,o.eW)("Insert")])),_:1,__:[5]}),(0,o.bF)(u,{color:"secondary",onClick:t[1]||(t[1]=t=>e.$emit("update:show",!1))},{default:(0,o.k6)(()=>t[6]||(t[6]=[(0,o.eW)("Cancel")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1},8,["model-value"])}var Ct={name:"NatModal",props:{show:{type:Boolean,required:!0}},emits:["update:show","submit"]};const Et=(0,m.A)(Ct,[["render",yt]]);var It=Et;function xt(e,t,l,a,n,i){const s=(0,o.g2)("v-card-title"),r=(0,o.g2)("v-card-text"),d=(0,o.g2)("v-spacer"),u=(0,o.g2)("v-btn"),c=(0,o.g2)("v-card-actions"),p=(0,o.g2)("v-card"),m=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(m,{"model-value":l.show,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:show",t)),"max-width":"600"},{default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>t[3]||(t[3]=[(0,o.eW)("Add PKG (Package)")])),_:1,__:[3]}),(0,o.bF)(r,null,{default:(0,o.k6)(()=>t[4]||(t[4]=[(0,o.Lk)("p",{class:"text-caption"},"PKG modal fields coming soon...",-1)])),_:1,__:[4]}),(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(d),(0,o.bF)(u,{color:"primary",onClick:t[0]||(t[0]=t=>e.$emit("submit"))},{default:(0,o.k6)(()=>t[5]||(t[5]=[(0,o.eW)("Insert")])),_:1,__:[5]}),(0,o.bF)(u,{color:"secondary",onClick:t[1]||(t[1]=t=>e.$emit("update:show",!1))},{default:(0,o.k6)(()=>t[6]||(t[6]=[(0,o.eW)("Cancel")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1},8,["model-value"])}var Dt={name:"PkgModal",props:{show:{type:Boolean,required:!0}},emits:["update:show","submit"]};const St=(0,m.A)(Dt,[["render",xt]]);var Lt=St;function At(e,t,l,a,i,s){const r=(0,o.g2)("v-icon"),d=(0,o.g2)("v-card-title"),u=(0,o.g2)("v-select"),c=(0,o.g2)("v-col"),p=(0,o.g2)("v-text-field"),m=(0,o.g2)("v-textarea"),g=(0,o.g2)("v-row"),h=(0,o.g2)("v-form"),f=(0,o.g2)("v-divider"),b=(0,o.g2)("v-card"),v=(0,o.g2)("v-card-text"),k=(0,o.g2)("v-spacer"),F=(0,o.g2)("v-btn"),_=(0,o.g2)("v-card-actions"),w=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(w,{"model-value":l.show,"onUpdate:modelValue":t[8]||(t[8]=t=>e.$emit("update:show",t)),"max-width":"600"},{default:(0,o.k6)(()=>[(0,o.bF)(b,null,{default:(0,o.k6)(()=>[(0,o.bF)(d,{class:"d-flex align-center"},{default:(0,o.k6)(()=>[(0,o.bF)(r,{class:"mr-2"},{default:(0,o.k6)(()=>t[9]||(t[9]=[(0,o.eW)("mdi-plus")])),_:1,__:[9]}),t[10]||(t[10]=(0,o.eW)(" Add New Rundown Item "))]),_:1,__:[10]}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(h,{ref:"newItemForm","model-value":l.valid,"onUpdate:modelValue":t[5]||(t[5]=t=>e.$emit("update:valid",t))},{default:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{"model-value":l.type,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:type",t)),items:l.itemTypes,label:"Item Type",variant:"outlined",density:"comfortable",rules:[e=>!!e||"Item type is required"],required:""},null,8,["model-value","items","rules"])]),_:1}),(0,o.bF)(c,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{"model-value":l.slug,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:slug",t)),label:"Slug",placeholder:"e.g., Cold Open, Interview with Mayor",variant:"outlined",density:"comfortable",rules:[e=>!!e||"Slug is required"],required:""},null,8,["model-value","rules"])]),_:1}),(0,o.bF)(c,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{"model-value":l.duration,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:duration",t)),label:"Estimated Duration",placeholder:"00:01:30",variant:"outlined",density:"comfortable","persistent-hint":"",hint:"HH:MM:SS or MM:SS format",rules:l.durationRules},null,8,["model-value","rules"])]),_:1}),(0,o.bF)(c,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{"model-value":l.owner,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:owner",t)),label:"Owner / Producer",placeholder:"e.g., Sarah J.",variant:"outlined",density:"comfortable",rules:l.durationRules},null,8,["model-value","rules"])]),_:1}),(0,o.bF)(c,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{"model-value":l.description,"onUpdate:modelValue":t[4]||(t[4]=t=>e.$emit("update:description",t)),label:"Description / Notes",placeholder:"Optional summary or notes for this item.",variant:"outlined",density:"comfortable",rows:"2","auto-grow":""},null,8,["model-value"])]),_:1}),"segment"===l.type?((0,o.uX)(),(0,o.Wv)(c,{key:0,cols:"12"})):(0,o.Q3)("",!0),"ad"===l.type?((0,o.uX)(),(0,o.Wv)(c,{key:1,cols:"12"})):(0,o.Q3)("",!0),"cta"===l.type?((0,o.uX)(),(0,o.Wv)(c,{key:2,cols:"12"})):(0,o.Q3)("",!0)]),_:1})]),_:1},8,["model-value"]),(0,o.bF)(f,{class:"my-4"}),l.type?((0,o.uX)(),(0,o.Wv)(g,{key:0},{default:(0,o.k6)(()=>[(0,o.bF)(c,{cols:"12"},{default:(0,o.k6)(()=>[t[14]||(t[14]=(0,o.Lk)("h4",{class:"text-subtitle-1 mb-2"},"Preview",-1)),(0,o.bF)(b,{outlined:"",class:"pa-2"},{default:(0,o.k6)(()=>[(0,o.Lk)("p",null,[t[11]||(t[11]=(0,o.Lk)("strong",null,"Type:",-1)),(0,o.eW)(" "+(0,n.v_)(l.type),1)]),(0,o.Lk)("p",null,[t[12]||(t[12]=(0,o.Lk)("strong",null,"Slug:",-1)),(0,o.eW)(" "+(0,n.v_)(l.slug),1)]),(0,o.Lk)("p",null,[t[13]||(t[13]=(0,o.Lk)("strong",null,"Duration:",-1)),(0,o.eW)(" "+(0,n.v_)(l.duration),1)])]),_:1})]),_:1,__:[14]})]),_:1})):(0,o.Q3)("",!0)]),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.bF)(k),(0,o.bF)(F,{color:"primary",onClick:t[6]||(t[6]=t=>e.$emit("create")),disabled:!l.valid,loading:l.loading},{default:(0,o.k6)(()=>t[15]||(t[15]=[(0,o.eW)(" Create Item ")])),_:1,__:[15]},8,["disabled","loading"]),(0,o.bF)(F,{color:"secondary",onClick:t[7]||(t[7]=t=>e.$emit("cancel"))},{default:(0,o.k6)(()=>t[16]||(t[16]=[(0,o.eW)("Cancel")])),_:1,__:[16]})]),_:1})]),_:1})]),_:1},8,["model-value"])}var Vt={name:"NewItemModal",props:{show:{type:Boolean,required:!0},valid:{type:Boolean,required:!0},loading:{type:Boolean,default:!1},type:{type:String,default:null},slug:{type:String,default:""},duration:{type:String,default:""},owner:{type:String,default:""},description:{type:String,default:""},itemTypes:{type:Array,default:()=>[]},durationRules:{type:Array,default:()=>[]}},emits:["update:show","update:valid","update:type","update:slug","update:duration","update:owner","update:description","create","cancel"]};const Wt=(0,m.A)(Vt,[["render",At]]);var Ut=Wt,Tt=l(5256);const Bt={key:0,style:{"margin-bottom":"8px"}},Mt={class:"header-container"},$t={class:"show-title-area"},Rt={class:"show-title-fit text-h5 mb-1"},Pt={class:"text-caption text-medium-emphasis mb-0"},Nt={class:"fields-area"};function Ot(e,t,l,a,i,s){const r=(0,o.g2)("v-progress-linear"),d=(0,o.g2)("v-select"),u=(0,o.g2)("v-text-field"),c=(0,o.g2)("v-card-text"),p=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(p,{class:"show-info-header full-width-bg",flat:""},{default:(0,o.k6)(()=>[(0,o.bF)(c,{class:"pa-3"},{default:(0,o.k6)(()=>[l.loadingRundown?((0,o.uX)(),(0,o.CE)("div",Bt,[(0,o.bF)(r,{indeterminate:"",color:"primary",height:"4",rounded:""})])):(0,o.Q3)("",!0),(0,o.Lk)("div",Mt,[(0,o.Lk)("div",$t,[(0,o.Lk)("h2",Rt,(0,n.v_)(l.title||"Disaffected"),1),(0,o.Lk)("p",Pt,(0,n.v_)(l.episodeInfo||"Episode Production Workspace"),1)]),(0,o.Lk)("div",Nt,[(0,o.bF)(d,{label:"Episode","model-value":l.episodeNumber,items:l.episodes,"item-title":"title","item-value":"value",variant:"outlined",density:"comfortable",class:"showinfo-field","hide-details":"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:episodeNumber",t)),"item-props":e=>({title:"string"===typeof e.title?e.title.split(":")[0]+(e.title.includes(":")?":":"")+" "+(e.title.split(":")[1]?e.title.split(":")[1].trim():""):""})},null,8,["model-value","items","item-props"]),(0,o.bF)(u,{label:"Air Date","model-value":l.airDate,variant:"outlined",density:"comfortable",class:"showinfo-field","hide-details":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:airDate",t))},null,8,["model-value"]),(0,o.bF)(d,{label:"Status","model-value":l.productionStatus,items:l.productionStatuses,variant:"outlined",density:"comfortable",class:"showinfo-field","hide-details":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:productionStatus",t))},null,8,["model-value","items"]),(0,o.bF)(u,{label:"Total Runtime","model-value":l.totalRuntime,variant:"outlined",density:"comfortable",class:"showinfo-field","hide-details":"",readonly:""},null,8,["model-value"]),(0,o.Lk)("div",{class:"status-indicator",style:(0,n.Tr)({backgroundColor:s.statusColor,color:"#fff",borderRadius:"4px",padding:"4px 12px",display:"inline-block",marginBottom:"8px",fontWeight:600,letterSpacing:"1px"})},(0,n.v_)(l.productionStatus),5)])])]),_:1})]),_:1})}var Xt={name:"ShowInfoHeader",emits:["update:episodeNumber","update:airDate","update:productionStatus"],props:{title:{type:String,default:"Disaffected"},episodeInfo:{type:String,default:"Episode Production Workspace"},episodeNumber:{type:[String,Number],default:""},airDate:{type:String,default:""},productionStatus:{type:String,default:"Pre-Production"},totalRuntime:{type:String,default:"00:00:00"},episodes:{type:Array,default:()=>[]},productionStatuses:{type:Array,default:()=>["Draft","Approved","Production","Completed"]},loadingRundown:{type:Boolean,default:!1}},computed:{statusColor(){return(0,Ce.FH)((this.productionStatus||"").toLowerCase())}}};const Gt=(0,m.A)(Xt,[["render",Ot],["__scopeId","data-v-8c7cf5cc"]]);var zt=Gt,qt=l(923);const Kt=(e,t,l=null)=>(console.warn(`[ContentEditor:${e}]`,t),l);var Ht={name:"ContentEditor",errorCaptured(e,t,l){return console.error("[ContentEditor] Error captured:",{error:e,instance:t?.$options.name||"Unknown",info:l}),!1},async mounted(){await this.fetchShowInfo(),await this.fetchEpisodes()},created(){const e=sessionStorage.getItem("selectedEpisode");e&&(this.currentEpisodeNumber=e),this.debouncedAutoSave=(0,qt.A)(this.saveAllContent,2500)},components:{EditorPanel:tt,AssetBrowserModal:nt,GfxModal:ut,FsqModal:gt,SotModal:vt,VoModal:wt,NatModal:It,PkgModal:Lt,NewItemModal:Ut,ColorSelector:Tt.A,ShowInfoHeader:zt},props:{},data(){return{showRundownPanel:!0,rundownPanelWidth:"wide",editorMode:"script",selectedItemIndex:-1,editingItemIndex:-1,hasUnsavedChanges:!1,loadingRundown:!0,rundownError:null,showInfo:{},currentEpisodeNumber:"",currentAirDate:"",currentProductionStatus:"draft",productionStatuses:[{title:"Draft",value:"draft"},{title:"Approved",value:"approved"},{title:"Production",value:"production"},{title:"Completed",value:"completed"}],selectedEpisode:null,episodes:[],loading:!1,saving:!1,isDragging:!1,draggedIndex:-1,draggedItem:null,dragOverIndex:-1,dropZonePosition:null,itemContentBackup:{},autoSaveOnSwitch:!0,autoSaveTimeout:null,hoveredItemIndex:-1,scriptContent:"",scratchContent:"",showAssetBrowser:!1,selectedFiles:[],availableAssets:[{id:"asset_001",filename:"opening_graphics.png",type:"image",url:"/assets/opening_graphics.png",thumbnail:"/assets/thumbs/opening_graphics.png"},{id:"asset_002",filename:"interview_segment.mp4",type:"video",url:"/assets/interview_segment.mp4"}],rundownItems:[{id:"item_001",type:"segment",slug:"opening-segment",duration:"00:02:30",description:"Opening segment with intro graphics"},{id:"item_002",type:"sot",slug:"interview-smith",duration:"00:05:45",description:"Interview with John Smith"},{id:"item_003",type:"pkg",slug:"climate-report",duration:"00:03:15",description:"Climate change report package"},{id:"item_004",type:"commercial",slug:"commercial-break-1",duration:"00:02:00",description:"First commercial break"},{id:"item_005",type:"vo",slug:"sports-highlights",duration:"00:01:45",description:"Sports highlights voiceover"}],currentItemMetadata:{title:"",type:"segment",slug:"",duration:"00:05:30",description:"",guests:"",tags:"",sponsor:"",campaign:"",segment_number:1,live_status:"live"},customMetadataYaml:"",itemTypes:[{title:"Segment",value:"segment"},{title:"Advertisement",value:"advert"},{title:"Promo",value:"promo"},{title:"Call to Action",value:"cta"},{title:"Unknown",value:"unknown"}],showGraphicModal:!1,showGfxModal:!1,showFsqModal:!1,showSotModal:!1,showVoModal:!1,showNatModal:!1,showPkgModal:!1,showNewItemModal:!1,showRundownOptions:!1,newItemFormValid:!1,newItemType:"",newItemTitle:"",newItemSlug:"",newItemDuration:"",newItemDescription:"",newItemGuests:"",newItemCustomer:"",newItemLink:"",creatingNewItem:!1,rundownItemTypes:[{title:"Segment",value:"segment"},{title:"Advertisement",value:"ad"},{title:"Promo",value:"promo"},{title:"Call to Action",value:"cta"},{title:"Transition",value:"trans"}],graphicDetails:{url:"",file:null},gfxSlug:"",gfxDescription:"",graphicPreview:null,graphicFile:null,totalRuntime:"00:00:00",showTitle:"Disaffected"}},computed:{styleCache(){const e=this.$vuetify.theme;if(!e)return{};const t={},l=e.dark?"dark":"light",a=e.themes[l],o=this.rundownItemTypes.map(e=>e.value?e.value.toLowerCase():""),n=["selection","hover","draglight","highlight","dropline"],i=[...new Set([...n,...o,"unknown"])];for(const s of i){const e=(0,Ce.FH)(s),l=a[e];if(!l||"unknown"===s){t[s]={backgroundColor:"#E0E0E0",color:"#000000"};continue}const o=this.hexToRgb(l);if(o){const e=`${o.r}, ${o.g}, ${o.b}`,l=`rgb(${e})`,a=this.isColorDark(e)?"#FFFFFF":"#000000";t[s]={backgroundColor:l,color:a}}else t[s]={backgroundColor:l,color:"#000000"}}return t},safeRundownItems(){try{return this.rundownItems?Array.isArray(this.rundownItems)?this.rundownItems.filter(e=>null!=e):(console.warn("rundownItems is not an array:",this.rundownItems),[]):[]}catch(e){return Kt("safeRundownItems",e,[])}},currentContent(){try{return"script"===this.editorMode?this.scriptContent:this.scratchContent}catch(e){return Kt("currentContent",e,"")}},currentShowTitle(){return this.showTitle||this.showInfo&&this.showInfo.title||"Disaffected"},currentEpisodeInfo(){try{const e=this.getStatusLabel(this.currentProductionStatus),t=this.episodes.find(e=>e.value===this.currentEpisodeNumber)?.title||`Episode ${this.currentEpisodeNumber}`;return`${t} • ${this.currentAirDate||""} • ${e}`}catch(e){return Kt("currentEpisodeInfo",e,"Episode Info Unavailable")}},rundownPanelWidthValue(){return"narrow"===this.rundownPanelWidth?"25%":"40%"},rundownHeaderWidth(){return"narrow"===this.rundownPanelWidth?"25%":"40%"},cueToolbarWidth(){return this.showRundownPanel?"narrow"===this.rundownPanelWidth?"75%":"60%":"100%"},statusBarColor(){try{const e=this.currentProductionStatus?this.currentProductionStatus.toLowerCase():"unknown",t=(0,Ce.FH)(e),l=(0,Ce.GF)(t,this.$vuetify);return l||"#E0E0E0"}catch(e){return Kt("statusBarColor",e,"#E0E0E0"),"#E0E0E0"}},statusBarTextColor(){try{const e=this.statusBarColor;if(e&&e.startsWith("#")){const t=e.replace("#","");if(6===t.length){const e=parseInt(t.substr(0,2),16),l=parseInt(t.substr(2,2),16),a=parseInt(t.substr(4,2),16),o=(.299*e+.587*l+.114*a)/255;return o<.5?"#FFFFFF":"#000000"}}return"#FFFFFF"}catch(e){return Kt("statusBarTextColor",e,"#FFFFFF"),"#FFFFFF"}},scriptPlaceholder(){return`# ${this.currentRundownItem?.slug||"Script Content"}\n\nWrite your script content here using Markdown...\n\nUse the toolbar buttons above to insert:\n- **GFX** cues for graphics\n- **FSQ** cues for full-screen quotes  \n- **SOT** cues for video content\n\nExample:\n[GFX: opening_title.png]\nWelcome to today's show...\n\n[SOT: interview_clip.mp4 | 0:30-2:15]\nHere's what our guest had to say...`},scratchPlaceholder(){return"# Brainstorming & Notes\n\nUse this space for:\n• Research notes and ideas\n• Asset planning and references  \n• Interview questions\n• Production notes\n\n💡 **Smart Features:**\n- Drag & drop assets from your file system\n- Paste URLs for automatic link cards\n- @ mentions for collaboration\n- # tags for organization\n\nTry dropping an image or video file here!"},currentRundownItem(){return this.rundownItems&&this.rundownItems[this.selectedItemIndex]||null},titleRules(){return[e=>!!e||"Title is required"]},durationRules(){return[e=>!e||/^\d{2}:\d{2}:\d{2}$/.test(e)||"Duration must be in HH:MM:SS format"]}},methods:{resolveItemStyle(e,t){try{const l=e&&e.type?e.type.toLowerCase():"unknown";let a={};const o=(0,Ce.FH)(l),n=(0,Ce.GF)(o,this.$vuetify);if(n)if(a.backgroundColor=n,n.startsWith("#")){const e=n.replace("#","");if(6===e.length){const t=parseInt(e.substr(0,2),16),l=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16),n=(.299*t+.587*l+.114*o)/255;a.color=n<.5?"#FFFFFF":"#000000"}else a.color="#000000"}else a.color="#000000";else a.backgroundColor="#E0E0E0",a.color="#000000";if(this.selectedItemIndex===t){const e=(0,Ce.FH)("selection"),t=(0,Ce.GF)(e,this.$vuetify);if(t)if(a.backgroundColor=t,t.startsWith("#")){const e=t.replace("#","");if(6===e.length){const t=parseInt(e.substr(0,2),16),l=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16),n=(.299*t+.587*l+.114*o)/255;a.color=n<.5?"#FFFFFF":"#000000"}else a.color="#000000"}else a.color="#000000"}else if(this.hoveredItemIndex===t){const e=(0,Ce.FH)("hover"),t=(0,Ce.GF)(e,this.$vuetify);t&&(a.boxShadow=`inset 4px 0 0 0 ${t}`)}return a}catch(l){return Kt("resolveItemStyle",l,{}),{}}},async fetchShowInfo(){this.loading=!0;try{const e=await c.A.get("/api/show-info");this.showInfo=e.data,this.showTitle=e.data.title||"Disaffected"}catch(e){Kt("fetchShowInfo",e),this.rundownError="Failed to load show information. Please check backend connection.",this.showTitle="Disaffected"}finally{this.loading=!1}},async fetchEpisodes(){this.loading=!0,this.rundownError=null;try{const e=await c.A.get("/api/episodes"),t=e.data.episodes||[];Array.isArray(t)?this.episodes=t.map(e=>({title:`${e.id||e.episode_number}: ${e.title||"Untitled"}`,value:e.id?e.id.toString().padStart(4,"0"):e.episode_number?e.episode_number.toString().padStart(4,"0"):"",air_date:e.airdate,status:e.status||"unknown"})):(console.error("API response for episodes is not an array:",e.data),this.episodes=[]);const l=sessionStorage.getItem("selectedEpisode");let a=null;if(l&&this.episodes.some(e=>e.value==l))a=l;else if(this.episodes.length>0){const e=[...this.episodes].sort((e,t)=>t.value-e.value);a=e[0].value}a&&this.handleEpisodeChange(a,!0),!this.episodes.some(e=>e.value===this.currentEpisodeNumber)&&this.episodes.length>0&&(this.currentEpisodeNumber=this.episodes[0].value),console.log("[DEBUG] currentEpisodeNumber:",this.currentEpisodeNumber),console.log("[DEBUG] episodes:",this.episodes.map(e=>e.value))}catch(e){console.error("Failed to fetch episodes:",e.response||e.message||e),this.rundownError=`Failed to load episodes. ${e.message}. Check console for details.`,Kt("fetchEpisodes",e),this.rundownError="Failed to load episodes. No data available.",this.episodes=[]}finally{this.loading=!1}},padEpisodeNumber(e){return"number"===typeof e&&(e=String(e)),e?e.padStart(4,"0"):""},async fetchRundown(e){const t=this.padEpisodeNumber(e);if(t){this.loadingRundown=!0,this.rundownError=null;try{const e=await c.A.get(`/api/episodes/${t}/rundown`);this.rundownItems=e.data.items,this.selectedItemIndex=this.rundownItems.length>0?0:-1,-1!==this.selectedItemIndex&&this.loadItemContent(this.rundownItems[this.selectedItemIndex])}catch(l){Kt("fetchRundown",l),this.rundownError=`Failed to load rundown for episode ${t}.`,this.rundownItems=[]}finally{this.loadingRundown=!1}}else this.rundownItems=[]},async saveAllContent(){const e=this.padEpisodeNumber(this.currentEpisodeNumber);console.log("Saving content..."),this.hasUnsavedChanges=!1,this.saving=!0;try{const t={};await c.A.post(`/api/episodes/${e}/rundown`,t),this.hasUnsavedChanges=!1}catch(t){Kt("saveAllContent",t)}finally{this.saving=!1}},async handleEpisodeChange(e,t=!1){console.log("[DEBUG] handleEpisodeChange called with:",e);const l=this.padEpisodeNumber(e);if(console.log("[DEBUG] paddedNumber:",l),l){this.currentEpisodeNumber=l,t||(sessionStorage.setItem("selectedEpisode",l),console.log("[DEBUG] sessionStorage.setItem selectedEpisode:",l));try{const e=await c.A.get(`/api/episodes/${l}/info`),t=e.data.info||{};this.currentAirDate=t.airdate||"",this.currentProductionStatus=t.status||"draft",this.totalRuntime=t.total_runtime||"01:00:00",this.showTitle=t.title||"Untitled",this.currentShowSubtitle=t.subtitle||"No Subtitle",console.log("[DEBUG] handleEpisodeChange successfully loaded info for:",l)}catch(a){console.warn(`Failed to load episode info.md frontmatter for ${l}:`,a),this.currentAirDate="",this.currentProductionStatus="draft",this.totalRuntime="00:00:00",this.showTitle="Untitled",this.currentShowSubtitle="No Subtitle"}this.fetchRundown(this.currentEpisodeNumber)}},getStatusLabel(e){return e?e.charAt(0).toUpperCase()+e.slice(1):"Unknown"},loadItemContent(e){console.log("[loadItemContent] Loading item:",e)},dragStart(e,t,l){this.isDragging=!0,this.draggedIndex=l,this.draggedItem=t,e.dataTransfer.setData("text/plain",l.toString())},dragEnd(){this.isDragging=!1,this.draggedIndex=-1,this.draggedItem=null,this.dragOverIndex=-1,this.dropZonePosition=null},dragOver(e,t){if(!this.isDragging||t===this.draggedIndex)return;const l=e.currentTarget.getBoundingClientRect(),a=l.top+l.height/2,o=e.clientY<a;this.dragOverIndex=t,this.dropZonePosition=o?"above":"below"},dragEnter(e,t){if(e.preventDefault(),e.stopPropagation(),console.log("[dragEnter] called with index:",t,"isDragging:",this.isDragging),!this.isDragging)return;if(t===this.draggedIndex)return void console.log("[dragEnter] skipping same item");const l=e.currentTarget.getBoundingClientRect(),a=l.top+l.height/2,o=e.clientY<a;console.log("[dragEnter] setting dragOverIndex:",t,"position:",o?"above":"below"),this.dragOverIndex=t,this.dropZonePosition=o?"above":"below"},dragLeave(e){console.log("[dragLeave] called");const t=document.querySelector(".rundown-list");t&&e.relatedTarget&&!t.contains(e.relatedTarget)&&(console.log("[dragLeave] Clearing drag state - left rundown area"),this.dragOverIndex=-1,this.dropZonePosition=null)},dragDrop(e,t){if(!this.isDragging)return;const l=this.draggedIndex;if(l===t)return;let a=t;"below"===this.dropZonePosition&&(a=t+1),l<a&&a--;const o=[...this.rundownItems],[n]=o.splice(l,1);o.splice(a,0,n),this.rundownItems=o,this.selectedItemIndex===l&&(this.selectedItemIndex=a),this.isDragging=!1,this.draggedIndex=-1,this.draggedItem=null,this.dragOverIndex=-1,this.dropZonePosition=null},getNextEpisodeNumber(){let e=0;return this.episodes.forEach(t=>{const l=parseInt(t.value,10);!isNaN(l)&&l>e&&(e=l)}),String(e+1).padStart(4,"0")},selectRundownItem(e){this.selectedItemIndex=e},onContentChange(e){console.log("[onContentChange] Content changed:",e),this.hasUnsavedChanges=!0},onMetadataChange(e){console.log("[onMetadataChange] Metadata changed:",e),this.hasUnsavedChanges=!0},insertAssetReference(e){console.log("[insertAssetReference] Insert asset reference:",e),this.hasUnsavedChanges=!0},getModeIcon(e){const t={edit:"mdi-pencil",preview:"mdi-eye",script:"mdi-script-text",visual:"mdi-image"};return t[e]||"mdi-help-circle"}}};const Qt=(0,m.A)(Ht,[["render",Ge],["__scopeId","data-v-3749dd16"]]);var jt=Qt;function Zt(e,t,l,a,n,i){const s=(0,o.g2)("v-card-title"),r=(0,o.g2)("v-list-item"),d=(0,o.g2)("v-list"),u=(0,o.g2)("v-card-text"),c=(0,o.g2)("v-card"),p=(0,o.g2)("v-col"),m=(0,o.g2)("v-row"),g=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(g,{fluid:""},{default:(0,o.k6)(()=>[(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[t[3]||(t[3]=(0,o.Lk)("h2",{class:"text-h4 font-weight-bold mb-4"},"Dashboard",-1)),(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{cols:"12",md:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>t[0]||(t[0]=[(0,o.eW)("Recent Episodes")])),_:1,__:[0]}),(0,o.bF)(u,null,{default:(0,o.k6)(()=>[(0,o.bF)(d,{density:"compact"},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(3,e=>(0,o.bF)(r,{key:e,title:`Episode ${e}`,link:"",to:`/rundown/${e}`},null,8,["title","to"])),64))]),_:1})]),_:1})]),_:1})]),_:1}),(0,o.bF)(p,{cols:"12",md:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>t[1]||(t[1]=[(0,o.eW)("Asset Usage")])),_:1,__:[1]}),(0,o.bF)(u)]),_:1})]),_:1}),(0,o.bF)(p,{cols:"12",md:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>t[2]||(t[2]=[(0,o.eW)("Templates")])),_:1,__:[2]}),(0,o.bF)(u)]),_:1})]),_:1})]),_:1})]),_:1,__:[3]})]),_:1})]),_:1})}var Jt={name:"DashboardView"};const Yt=(0,m.A)(Jt,[["render",Zt]]);var el=Yt;function tl(){const e=localStorage.getItem("auth-token"),t=localStorage.getItem("auth-token-expiry");return!(!e||!t)&&Date.now()<parseInt(t)}const ll=[{path:"/",redirect:"/dashboard"},{path:"/dashboard",name:"dashboard",component:el},{path:"/rundown/:episode?",name:"rundown",component:xe,props:!0},{path:"/rundown-manager/:episode?",redirect:e=>({path:`/rundown/${e.params.episode||""}`})},{path:"/content-editor/:episode?",name:"content-editor",component:jt,props:!0},{path:"/assets",name:"assets",component:()=>l.e(874).then(l.bind(l,1874))},{path:"/templates",name:"templates",component:()=>l.e(297).then(l.bind(l,297))},{path:"/settings",name:"settings",component:()=>l.e(142).then(l.bind(l,6142))},{path:"/profile",name:"profile",component:()=>l.e(867).then(l.bind(l,4867)),meta:{requiresAuth:!0}}],al=(0,y.aE)({history:(0,y.LA)(),routes:ll});al.beforeEach((e,t,l)=>{e.meta.requiresAuth&&!tl()?l("/dashboard"):l()});var ol=al;async function nl(){const e=await l.e(53).then(l.t.bind(l,8874,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}nl();const il=(0,a.Ef)(v);il.use(ol),il.use(w),il.mount("#app")},9478:function(){}},t={};function l(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(t,a,o,n){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],n=e[u][2];for(var s=!0,r=0;r<a.length;r++)(!1&n||i>=n)&&Object.keys(l.O).every(function(e){return l.O[e](a[r])})?a.splice(r--,1):(s=!1,n<i&&(i=n));if(s){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,o,n]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};l.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var n=Object.create(null);l.r(n);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&a;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(function(e){i[e]=function(){return a[e]}});return i["default"]=function(){return a},l.d(n,i),n}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce(function(t,a){return l.f[a](e,t),t},[]))}}(),function(){l.u=function(e){return"js/"+(53===e?"webfontloader":e)+"."+{53:"aa358af7",142:"9aa4ec31",297:"b9928a72",867:"ecb6c051",874:"3913b607"}[e]+".js"}}(),function(){l.miniCssF=function(e){return"css/"+e+"."+{142:"b5d18351",297:"39a2ef2c",867:"db50dd30"}[e]+".css"}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="disaffected-ui:";l.l=function(a,o,n,i){if(e[a])e[a].push(o);else{var s,r;if(void 0!==n)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==a||c.getAttribute("data-webpack")==t+n){s=c;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.setAttribute("data-webpack",t+n),s.src=a),e[a]=[o];var p=function(t,l){s.onerror=s.onload=null,clearTimeout(m);var o=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(function(e){return e(l)}),t)return t(l)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,o,n){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",l.nc&&(i.nonce=l.nc);var s=function(l){if(i.onerror=i.onload=null,"load"===l.type)o();else{var a=l&&l.type,s=l&&l.target&&l.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+s+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=a,r.request=s,i.parentNode&&i.parentNode.removeChild(i),n(r)}};return i.onerror=i.onload=s,i.href=t,a?a.parentNode.insertBefore(i,a.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var l=document.getElementsByTagName("link"),a=0;a<l.length;a++){var o=l[a],n=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===e||n===t))return o}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){o=i[a],n=o.getAttribute("data-href");if(n===e||n===t)return o}},a=function(a){return new Promise(function(o,n){var i=l.miniCssF(a),s=l.p+i;if(t(i,s))return o();e(a,s,null,o,n)})},o={524:0};l.f.miniCss=function(e,t){var l={142:1,297:1,867:1};o[e]?t.push(o[e]):0!==o[e]&&l[e]&&t.push(o[e]=a(e).then(function(){o[e]=0},function(t){throw delete o[e],t}))}}}(),function(){var e={524:0};l.f.j=function(t,a){var o=l.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var n=new Promise(function(l,a){o=e[t]=[l,a]});a.push(o[2]=n);var i=l.p+l.u(t),s=new Error,r=function(a){if(l.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var n=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",s.name="ChunkLoadError",s.type=n,s.request=i,o[1](s)}};l.l(i,r,"chunk-"+t,t)}},l.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,n,i=a[0],s=a[1],r=a[2],d=0;if(i.some(function(t){return 0!==e[t]})){for(o in s)l.o(s,o)&&(l.m[o]=s[o]);if(r)var u=r(l)}for(t&&t(a);d<i.length;d++)n=i[d],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(u)},a=self["webpackChunkdisaffected_ui"]=self["webpackChunkdisaffected_ui"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[504],function(){return l(8409)});a=l.O(a)})();
//# sourceMappingURL=app.cd2924ca.js.map